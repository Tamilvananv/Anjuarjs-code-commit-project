<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  </head>
  <!-- <body style="background-image: url(assets/images/immuneel/Landing.png); height: 665px;"> -->

  <body style="overflow-y: hidden">
    <div
      id="main-wrapper"
      [ngClass]="{ 'show-sidebar': showMobileMenu }"
      [dir]="options.dir"
      [attr.data-theme]="options.theme"
      [attr.data-layout]="options.layout"
      [attr.data-sidebartype]="options.sidebartype"
      [attr.data-sidebar-position]="options.sidebarpos"
      [attr.data-header-position]="options.headerpos"
      [attr.data-boxed-layout]="options.boxed"
      data-sidebartype="full"
    >
      <header class="topbar" [attr.data-navbarbg]="options.navbarbg">
        <nav
          class="d-flex top-navbar navbar-expand-md"
          [ngClass]="
            options.navbarbg == 'skin6' ? 'navbar-light' : 'navbar-dark'
          "
        >
          <div
            class="navbar-header"
            [ngClass]="expandLogo ? 'expand-logo' : ''"
            [attr.data-logobg]="options.logobg"
          >
            <a
              (click)="showMobileMenu = !showMobileMenu"
              class="nav-toggler waves-effect waves-light d-block d-md-none"
              href="javascript:void(0)"
            >
              <i [ngClass]="showMobileMenu ? 'ti-close' : 'ti-menu'"></i>
            </a>
            <a class="navbar-brand" href="/">
              <b class="logo-icon">
                <img src="assets/images/immuneel/Imm.png" class="light-logo" />
              </b>
              <span class="logo-text">
                <img src="assets/images/immuneel/new.png" class="light-logo" />
              </span>
            </a>
            <a
              class="topbartoggler d-block d-md-none waves-effect waves-light"
              href="javascript:void(0)"
              (click)="isCollapsed = !isCollapsed"
              [attr.aria-expanded]="!isCollapsed"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
            >
              <i class="ti-more"></i>
            </a>
          </div>
        </nav>
      </header>
    </div>
  </body>
</html>

<div style="padding-top: 50px">
  <ngb-tabset #tabset class="tabset1">
    <ngb-tab id="tab-selectbyid1" title="User Profile">
      <ng-template ngbTabContent>
        <div class="col-md-12 text-right">
          <div
            class="custom-control custom-checkbox"
            style="padding-bottom: 5px"
          >
            <!-- <i class="fas fa-arrow-up" aria-hidden="true" 
          style="padding-right: 20px;"></i> -->
            <button
              type="submit"
              class="addbtn_style"
              (click)="backToLanding()"
              ejs-button
            >
              Home
            </button>
            <button
              type="submit"
              class="addbtn_style"
              (click)="EditUserProfile()"
              *ngIf="HideEditForm == false"
              ejs-button
            >
              Edit Profile
            </button>
          </div>
        </div>
        <div *ngIf="HideEditForm == false">
          <div class="" style="padding-left: 2%">
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-8">
                      <label
                        for="FirstName"
                        class="control-label col-form-label label-align"
                        >First Name:</label
                      >
                      {{ ObjUserProfile.FirstName }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-8">
                      <label
                        for="LastName"
                        class="control-label col-form-label label-align"
                      >
                        Last Name:</label
                      >
                      {{ ObjUserProfile.LastName }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-8">
                      <label
                        for="EmailId"
                        class="control-label col-form-label label-align"
                        >Email ID:</label
                      >
                      {{ ObjUserProfile.EmailId }}
                    </div>
                    <div class="col-md-4">
                      <!-- <label for="FirstName" class="control-label col-form-label">First Name:</label> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-10">
                  <label
                    for="Pno"
                    class="control-label col-form-label label-align"
                    >Mobile Number:</label
                  >
                  {{ ObjUserProfile.MobileNumber }}
                </div>
                <div class="col-md-2">
                  <!-- <label for="FirstName" class="control-label col-form-label">First Name:</label> -->
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="row">
                <div class="col-md-10">
                  <label
                    for="dname"
                    class="control-label col-form-label label-align"
                    >Department Name:</label
                  >
                  {{ ObjUserProfile.DepartmentName }}
                </div>
                <div class="col-md-2">
                  <!-- <label for="FirstName" class="control-label col-form-label">First Name:</label> -->
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-10">
                  <label
                    for="Manager"
                    class="control-label col-form-label label-align"
                    >Manager Name:</label
                  >
                  {{ ObjUserProfile.ManagerName }}
                </div>
                <div class="col-md-2">
                  <!-- <label for="FirstName" class="control-label col-form-label">First Name:</label> -->
                </div>
              </div>
            </div>
            <div *ngIf="imgflag == true">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-2">
                    <label
                      for="sig"
                      class="control-label col-form-label label-align"
                      >Signature:</label
                    >
                  </div>
                  <div class="col-md-2">
                    <img class="signimg" src="{{ imgUrl }}" />
                  </div>

                  <div
                    class="col-md-4"
                    style="padding-top: 3%; padding-left: 7%"
                  >
                    <div *ngIf="Status == true">
                      <label
                        class="control-label col-form-label"
                        style="color: red"
                      >
                        {{ StatusMessage }}</label
                      >
                    </div>
                    <div *ngIf="Status == false">
                      <label
                        class="control-label col-form-label"
                        style="color: green"
                      >
                        {{ StatusMessage }}</label
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <br />

        <div *ngIf="HideEditForm == true">
          <!-- <div class="" style="padding-left: 2%"> -->

          <form [formGroup]="UserProfileDetailsForm">
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row" style="padding-bottom: 6px">
                    <div class="col-md-2">
                      <label
                        for="FirstName"
                        class="control-label col-form-label"
                        >First Name:</label
                      >
                    </div>
                    <div class="col-md-4">
                      <input
                        type="text"
                        class="form-control"
                        placeholder=""
                        formControlName="FirstName"
                        name="FirstName"
                        readonly
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row" style="padding-bottom: 6px">
                    <div class="col-md-2">
                      <label
                        for="LastName"
                        class="control-label col-form-label"
                      >
                        Last Name:</label
                      >
                    </div>
                    <div class="col-md-4">
                      <input
                        type="text"
                        class="form-control"
                        placeholder=""
                        formControlName="LastName"
                        name="LastName"
                        readonly
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="row" style="padding-bottom: 6px">
                    <div class="col-md-2">
                      <label for="EmailId" class="control-label col-form-label"
                        >Email ID:</label
                      >
                    </div>
                    <div class="col-md-4">
                      <input
                        type="text"
                        class="form-control"
                        placeholder=""
                        formControlName="EmailId"
                        name="EmailId"
                        readonly
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="row" style="padding-bottom: 6px">
                <div class="col-md-2">
                  <label for="usign" class="control-label col-form-label"
                    >Upload Signature:</label
                  >
                </div>
                <div class="col-md-4">
                  <ejs-uploader
                    #defaultupload
                    [autoUpload]="false"
                    [dropArea]="dropEle"
                    [multiple]="false"
                    allowedExtensions=".jpg,.png"
                    (selected)="onFileSelect($event)"
                    (removing)="onFileRemove($event)"
                    formArrayName="AttachmentList"
                  ></ejs-uploader>
                </div>
              </div>
            </div>

            <div *ngIf="imgflag == true">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-2"></div>
                  <div class="col-md-2">
                    <img class="signimg" src="{{ imgUrl }}" />
                  </div>

                  <div
                    class="col-md-4"
                    style="padding-top: 3%; padding-left: 7%"
                  >
                    <div *ngIf="Status == true">
                      <label
                        class="control-label col-form-label"
                        style="color: red"
                      >
                        {{ StatusMessage }}</label
                      >
                    </div>
                    <div *ngIf="Status == false">
                      <label
                        class="control-label col-form-label"
                        style="color: green"
                      >
                        {{ StatusMessage }}</label
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-4">
                  <button
                    type="button"
                    class="btn_frmsubmit"
                    (click)="UpdateUserProfile()"
                    ejs-button
                  >
                    Update
                  </button>
                  <button
                    type="button"
                    class="btn_frmcancel"
                    (click)="CancleButtonClick()"
                    ejs-button
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </div>
          </form>

          <!-- </div> -->
        </div>
      </ng-template>
    </ngb-tab>

    <div *ngIf="ISManager == true">
      <ngb-tab id="tab-Approval" title="Approval">
        <ng-template ngbTabContent>
          <div class="col-md-12 text-right">
            <div
              class="custom-control custom-checkbox"
              style="padding-bottom: 5px"
            >
              <button
                type="submit"
                class="addbtn_style"
                (click)="backToLanding()"
                ejs-button
              >
                Home
              </button>
            </div>
          </div>
          <div
            class="table-responsive setting_table"
            style="padding-right: 1%; padding-left: 1%"
          >
            <ejs-grid
              #grid
              id="Grid"
              [dataSource]="ObjUserSignatureList"
              [toolbar]="toolbarOptions"
              [allowPaging]="true"
              [pageSettings]="pageSettings"
              [filterSettings]="filterOptions"
              [gridLines]="lines"
              [enableHover]="false"
              [allowSorting]="true"
              height="363px"
              (rowDataBound)="rowDataBound($event)"
            >
              <e-columns>
                <e-column
                  field="UserName"
                  headerText="User Name"
                  headerTextAlign="center"
                  textAlign="left"
                  width="100"
                >
                </e-column>

                <e-column
                  field="EmailId"
                  headerText="Email Id"
                  headerTextAlign="center"
                  textAlign="left"
                  width="150"
                >
                </e-column>

                <e-column
                  headerText="User Signature"
                  textAlign="center"
                  width="140"
                >
                  <ng-template #template let-data>
                    <img class="signimg" src="{{ data.AttachmentListPath }}" />
                  </ng-template>
                </e-column>

                <e-column
                  field="Status"
                  headerText="Status"
                  headerTextAlign="center"
                  textAlign="left"
                  width="80"
                >
                </e-column>

                <e-column headerText="Action" textAlign="center" width="100">
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-md-12">
                        <ng-template #template let-data>
                          <div class="row">
                            <div class="col-md-6">
                              <button
                                class="addbtn1_style"
                               [disabled]="!data.ShowApprovalAndRejectButton"
                                (click)="RejectSignature($event, data)"
                                ejs-button
                              >
                                <i class="fa fa-edit"></i>
                                &nbsp;Reject
                              </button>
                            </div>
                            <div class="col-md-6">
                              <button
                                class="addbtn1_style"
                                [disabled]="!data.ShowApprovalAndRejectButton"
                                (click)="ApproveSignature($event, data)"
                                ejs-button
                              >
                                <i class="fas fa-plus-circle"></i>
                                &nbsp;Approve
                              </button>
                            </div>
                          </div>
                        </ng-template>
                      </div>
                    </div>
                  </div>
                </e-column>
              </e-columns>
            </ejs-grid>
          </div>
        </ng-template>
      </ngb-tab>
    </div>
  </ngb-tabset>
</div>

<app-footer> </app-footer>
