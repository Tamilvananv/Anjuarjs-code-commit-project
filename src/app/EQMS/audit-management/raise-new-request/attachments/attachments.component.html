<div class="row">
  <div class="col-md-12">
    <div class="card">
      <ngb-tabset #t="ngbTabset" class="tabset1">
        <ngb-tab id="tab-selectbyid1" title=" Add CheckList">
          <ng-template ngbTabContent>
              <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-6"></div>
                    <div class="col-md-6">
                      <div class="form-actions pull-right">
                        <div class="d-flex no-block align-items-center">
                          <div class="ml-auto">
                            <button type="submit" class="btn_frmsubmit" ejs-button>
                              Save
                            </button>
                            <button type="button" class="btn_frmsubmit" ejs-button>
                             Next
                            </button>
                            <button type="button" class="btn_frmcancel" ejs-button>
                              Cancel
                            </button>
                           
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            <form [formGroup]="EqmsAuditDetailsForm">
              <div class="col-md-12 ">
                <div class="row">
                  <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-5">
                        <label for="AuditNumber" class="control-label col-form-label">Audit Number:</label>
                      </div>
                      <div class="col-md-7">
                          <ejs-dropdownlist  [value]="value" [dataSource]="" [fields]="fields"
                          [placeholder]="waterMark"
                          [popupHeight]="height">
                        </ejs-dropdownlist>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-5">
                        <label for=" CheckListType" class="control-label col-form-label">CheckList Type:</label>
                      </div>
                      <div class="col-md-7">
                        <ejs-dropdownlist id="A" [value]="value" [dataSource]="CheckListType" [fields]="fields"
                          (change)="onChange1($event)" formControlName="CheckListType" [placeholder]="waterMark"
                          [popupHeight]="height">
                        </ejs-dropdownlist>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </form>

            <div *ngIf="visible">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-12">
                    <div class="card">
                      <div class="d-flex no-block align-items-center">
                        <h4 class="card-title"></h4>
                        <div class="ml-auto mb-2" style="padding-top: 28px;">
                          <button class="addbtn_style" ejs-button (click)="CreateTeplateModal(createTemplateModal)">
                            <i class="fas fa-plus-circle"></i>&nbsp;&nbsp;Create 
                          </button>
                        </div>
                      </div>
                      <div class="table-responsive">
                        <ejs-grid [dataSource]="data" [gridLines]="lines" e-gridheader="" height="410px">
                          <e-columns>
                            <e-column headerText="Action" textAlign="center" width="30">
                            </e-column>

                            <e-column field="CheckPoints" headerText="Check Points" headerTextAlign='center'
                              textAlign='left' width="80">
                            </e-column>
                            <e-column field="Status" headerText="Status" headerTextAlign='center' textAlign='left'
                              width="80"></e-column>
                            <e-column field="Description" headerText="Description" headerTextAlign='center'
                              textAlign='left' width="80">
                            </e-column>
                          </e-columns>
                        </ejs-grid>
                      </div>
                    </div>
                  </div>
                </div>
                <ng-template #createTemplateModal let-modal>
                  <div class="modal_header">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-6">
                          <h5 class="modal-title">Add Template</h5>
                        </div>
                        <div class="col-md-6" class="Close_Popup">
                          <i class="fas fa-times" (click)="modal.dismiss('Cross click')"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-body">
                    <div class="col-md-12 ">
                      <div class="row">
                        <div class="col-md-6">
                          <div class="row">
                            <div class="col-md-5">
                              <label for="Points" class="control-label col-form-label">Check Points:</label>
                            </div>
                            <div class="col-md-7">
                              <input type="text" class="form-control" id="Points" placeholder="" name="NumberOfDays" />
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="col-md-5">
                              <label for="Status" class="control-label col-form-label">Status:</label>
                            </div>
                            <div class="col-md-7">
                              <input type="text" class="form-control" id="TemplateId" placeholder=" Yes/No/NA"
                                name="NumberOfDays" />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <br>
                    <div class="col-md-12 ">
                      <div class="row">
                        <div class="col-md-12">
                          <div class="row">
                            <div class="col-md-2">
                              <label for="Description">Template Description:</label>
                            </div>
                            <div class="col-md-10">
                              <textarea name="message" rows="3" cols="85">
                                        Type Here </textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button class="addmodal_style" ejs-button>
                      Add
                    </button>

                    <button class="cancel_style" (click)="modal.close('Close click')" ejs-button>
                      cancel
                    </button>
                  </div>
                </ng-template>
              </div>
            </div>
            <br>
            <div *ngIf="visible1">
              <div class="form-group">
                <div class="col-md-12 ">
                  <div class="row">
                    
                        <ejs-uploader #defaultupload [autoUpload]="false" [dropArea]="dropEle" [asyncSettings]="path"
                          (success)="onUploadSuccess($event)" (failure)="onUploadFailure($event)" ></ejs-uploader>
                    
                  </div>
                </div>


              </div>
            </div>
            <div class="col-md-12 ">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-2">
                      <label for="Description"> Description:</label>
                    </div>
                    <div class="col-md-10">
                      <textarea name="message" rows="3" cols="130">
                                    Type Here </textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>






            <ejs-accordion>
              <e-accordionitems>
                <e-accordionitem expanded="true">
                  <ng-template #header>
                    <div>Audit Lead-Employee Name</div>
                  </ng-template>
                  <ng-template #content>
                    <ejs-grid width="100%" [dataSource]="data1" [editSettings]="editSettings" [toolbar]="toolbar"
                      height="30px" [gridLines]="lines">
                      <e-columns>

                        <!-- <e-column field="EmpList" headerText="Employee List" editType="dropdownedit" [edit]="deptlist"
                          width="50" textAlign="Center"></e-column> -->
                          <e-column field="ChooseAction" headerText="Choose Action" editType="dropdownedit"
                          [edit]="action" width="50" textAlign="Center">
                        </e-column>
                        <e-column field="Comments" headerText="Comments" width="120" textAlign="Center">
                        </e-column>
                      </e-columns>
                    </ejs-grid>
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-6"></div>
                        <div class="col-md-6">
                          <div class="form-actions pull-right">
                            <div class="d-flex no-block align-items-center">
                              <div class="ml-auto">
                               
                                <button type="button" class="btn_frmsubmit" ejs-button>
                                  Sign and Submit 
                                </button>
                               
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </e-accordionitem>

              </e-accordionitems>
            </ejs-accordion>
          </ng-template>
        </ngb-tab>

        <ngb-tab id="tab-selectbyid2" title="Print Check List">
          <ng-template ngbTabContent>
              <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-6"></div>
                    <div class="col-md-6">
                      <div class="form-actions pull-right">
                        <div class="d-flex no-block align-items-center">
                          <div class="ml-auto">
                            <button type="submit" class="btn_frmsubmit" ejs-button>
                              Save
                            </button>
                            <button type="button" class="btn_frmsubmit" ejs-button>
                              Sign and Submit 
                            </button>
                            <button type="button" class="btn_frmcancel" ejs-button>
                              Cancel
                            </button>
                            <button type="button" class="btn_frmsubmit" ejs-button>
                                Print 
                              </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            <div class="col-md-12 ">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-3">
                      <label for="TemplateName">Template Name:</label>
                    </div>
                    <div class="col-md-6">
                        <ejs-dropdownlist id="" [value]="value" [dataSource]="" [fields]="fields"
                        [placeholder]="waterMark"
                        [popupHeight]="height">
                      </ejs-dropdownlist>

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12 " style="padding-top: 4px;">
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-3">
                      <label for="Description">Template Description:</label>
                    </div>
                    <div class="col-md-6">
                      <p>Auto</p>
                      <!-- <textarea name="message" rows="3" cols="85">
                        Type Here </textarea> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- <button class="addbtn_style" ejs-button (click)="AddPointModal(AddCheckPointModal)">
              Add Point
            </button> -->
            <div class="table-responsive">
              <ejs-grid [dataSource]="" [gridLines]="lines" e-gridheader="" height="100px">
                <e-columns>
                  <e-column headerText="Action" textAlign="center" width="30">
                  </e-column>
                  <e-column field="CheckPoints" headerText="Check Points" headerTextAlign='center' textAlign='left'
                    width="80">
                  </e-column>
                </e-columns>
              </ejs-grid>
            </div>
            <ejs-accordion>
                <e-accordionitems>
                  <e-accordionitem expanded="true">
                    <ng-template #header>
                      <div>Auditor-Employee Name </div>
                    </ng-template>
                    <ng-template #content>
                      <ejs-grid width="100%" [dataSource]="data1" [editSettings]="editSettings" [toolbar]="toolbar"
                        height="50px" [gridLines]="lines">
                        <e-columns>
  
                        
                        
                          <e-column field="Comments" headerText="Comments" width="120" textAlign="Center">
                          </e-column>
                        </e-columns>
                      </ejs-grid>
                      
                    </ng-template>
                  </e-accordionitem>
  
                </e-accordionitems>
              </ejs-accordion>
           
          </ng-template>


        </ngb-tab>
        <ng-template #AddCheckPointModal let-modal>
          <div class="modal_header">
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-6">
                  <h5 class="modal-title">Add Point</h5>
                </div>
                <div class="col-md-6" class="Close_Popup">
                  <i class="fas fa-times" (click)="modal.dismiss('Cross click')"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-body">
              <div class="col-md-12 ">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-6">
                          <label for="Points" class="control-label col-form-label"> Add Check Points:</label>
                        </div>
                        <div class="col-md-6">
                          <input type="text" class="form-control" id="Points" placeholder="" name="NumberOfDays" />
                        </div>
                      </div>
                    </div>
                   
                  </div>
                </div>
          </div>
          <div class="modal-footer">
              <button class="addmodal_style" ejs-button>
                Add
              </button>

              <button class="cancel_style" (click)="modal.close('Close click')" ejs-button>
                cancel
              </button>
            </div>
        </ng-template>
        <ngb-tab id="tab-selectbyid3" title="Refer Audit">
          <ng-template ngbTabContent>
              <ejs-grid  #grid   [dataSource]="ObjAuditTrailList"    [allowFiltering]="true"    [gridLines]="lines"    [filterSettings]="filterOptions"  height="410px"
                      allowTextWrap="true"    [textWrapSettings]="wrapSettings"      [allowGrouping]="true"    [allowSorting]="true"  [showColumnMenu]="true"
                      [groupSettings]="groupOptions"       (pdfHeaderQueryCellInfo)='pdfHeaderQueryCellInfo($event)' 
                      >
                      <e-columns>
                        <e-column field="ModuleType" [filter]="filter" textAlign="Center" headerText=" Select Type"  width="60"   ></e-column>
                        <e-column field="FeatureName" headerText="Feature"   headerTextAlign="center" textAlign="left" width="60"  ></e-column>
                        <e-column field="Description" headerText="Activity"  headerTextAlign="center" textAlign="left"width="80" ></e-column>
                        <e-column field="UserName"  headerText="User Name"   headerTextAlign="center" textAlign="left" width="50" ></e-column>
                        <e-column field="UserId"  headerText="User Email Id"  headerTextAlign="center" textAlign="left" width="80"  ></e-column>
                        <e-column field="Date"headerText=" Date Time"type="dateTime" format="dd/mm/yyyy hh:mm:ss a"   headerTextAlign="center" textAlign="left"   width="65" 
                        >
                       
                        </e-column>
                      </e-columns>
                    </ejs-grid>
              <!-- <button class="addbtn_style" ejs-button (click)="AddReportModal(AddModal)">
                  Attach Audit Report
                </button> -->
          </ng-template>
        </ngb-tab>
        <!-- <ng-template #AddModal let-modal>
            <div class="modal_header">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-6">
                    <h5 class="modal-title">Audit Trail</h5>
                  </div>
                  <div class="col-md-6" class="Close_Popup">
                    <i class="fas fa-times" (click)="modal.dismiss('Cross click')"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-body">
                  
                  
            </div>
            <div class="modal-footer">
                <button class="addmodal_style" ejs-button>
                  Attach
                </button>
  
                <button class="cancel_style" (click)="modal.close('Close click')" ejs-button>
                  cancel
                </button>
              </div>
          </ng-template> -->

          <ngb-tab id="tab-selectbyid4" title="View Attachments">
              <ng-template ngbTabContent>
                  <ejs-filemanager id='overview' [ajaxSettings]='ajaxSettings' [view]='view'>
                    </ejs-filemanager>
                  
                </ng-template>
                </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
</div>