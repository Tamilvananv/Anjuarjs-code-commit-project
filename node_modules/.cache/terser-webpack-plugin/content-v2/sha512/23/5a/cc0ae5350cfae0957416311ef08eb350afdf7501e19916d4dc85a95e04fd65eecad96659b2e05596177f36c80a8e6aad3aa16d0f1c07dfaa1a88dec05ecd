{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{SG6C:function(t,e,i){\"use strict\";i.r(e),e.default=\".e-grid  .e-edit.deactivate::before{\\r\\n    content: '\\\\2710';\\r\\n}\"},nINn:function(t,e,i){\"use strict\";i.r(e),e.default=' <div class=\"col-md-12\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12 \" style=\"padding-top: 30px;\">\\r\\n          <div class=\"row \">\\r\\n              <div class=\"col-md-2\">\\r\\n                  <label for=\"EquipmentName\" class=\"control-label col-form-label\">Equipment Name:</label>\\r\\n               </div>\\r\\n               <div class=\"col-md-2\">\\r\\n                  <ejs-dropdownlist id=\\'ObjEquipmentTypeList\\'  [fields]=\\'fields\\'  [dataSource]=\\'ObjEquipmentTypeList\\'\\r\\n                  [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\'  (change)=\"GetEquipmentIdByName($event)\"\\r\\n                  width=100% >\\r\\n                </ejs-dropdownlist>\\r\\n                </div>\\r\\n                <div class=\"col-md-2\">\\r\\n                <label for=\"EquipmentID\" class=\"control-label col-form-label\">Equipment Id:</label>\\r\\n              </div>\\r\\n              <div class=\"col-md-2\">\\r\\n                 <ejs-dropdownlist id=\\'EquipmentID\\'  [fields]=\\'fields\\' (change)=\"GetEquipmentListById($event)\"\\r\\n                 [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\' [dataSource]=\\'ObjEquipmentListNew\\'\\r\\n                 width=100%  >\\r\\n               </ejs-dropdownlist>\\r\\n               </div>\\r\\n          </div>\\r\\n         \\r\\n        </div>\\r\\n       \\r\\n      </div>\\r\\n</div> \\r\\n\\r\\n\\r\\n<div class=\"row\">\\r\\n  <div class=\"col-lg-12\">\\r\\n    <div class=\"card\">\\r\\n      <div class=\"no-block align-items-center\">\\r\\n        <h4 class=\"card-title\"> </h4>\\r\\n     \\x3c!--   <div class=\"ml-auto mb-2  buttons_padding\"  *ngIf=\"PageAccessRight.HasWriteAccess\" >\\r\\n          <button class=\"addbtn_style\" ejs-button (click)=\"OpenModal(addCalibrationModal)\">\\r\\n              <i class=\"fas fa-plus-circle\"></i>\\r\\n             &nbsp;&nbsp;Add Calibration</button>\\r\\n        </div> --\\x3e\\r\\n      </div>\\r\\n      <div *ngIf=\"!PageAccessRight.HasWriteAccess\"> <br/></div>\\r\\n     \\r\\n        <div *ngIf=\"show\">  \\r\\n      <div class=\"table-responsive\">\\r\\n        <ejs-grid #grid id=\\'Grid\\' [dataSource]=\\'ObjCalibrationListNew\\' [toolbar]=\\'toolbarOptions\\' [allowExcelExport]=\\'true\\'\\r\\n          (toolbarClick)=\\'toolbarClick($event)\\' [allowSelection]=\\'true\\' allowFiltering=\\'true\\' [allowPaging]=\\'true\\' [pageSettings]=\\'pageSettings\\'\\r\\n          [filterSettings]=\\'filterOptions\\' [gridLines]=\"lines\" [enableHover]=\\'false\\' [allowSorting]=\\'true\\'\\r\\n          [toolbar]=\\'toolbar\\' e-gridheader=\\'\\' height=\\'363px\\' allowTextWrap=\\'true\\' [textWrapSettings]=\\'wrapSettings\\'\\r\\n          [showColumnMenu]=\"true\" [allowGrouping]=\"true\"   (excelExportComplete)=\\'excelExportComplete()\\'\\r\\n          [allowPdfExport]=\"true\"  (pdfHeaderQueryCellInfo)=\\'pdfHeaderQueryCellInfo($event)\\'  (commandClick)=\"actionCalibration($event)\" \\r\\n          (created)=\"created($event)\" (rowDataBound)=\"rowDataBound($event)\" >\\r\\n          <e-columns>\\r\\n              \\x3c!-- <e-column headerText=\\'Action\\' textAlign=\\'center\\' [commands]=\"commands\" width=\\'120\\'>  --\\x3e\\r\\n               <div *ngIf=\"PageAccessRight.HasWriteAccess\">\\r\\n              <e-column headerText=\\'Action\\' textAlign=\\'center\\' width=\\'200\\'>\\r\\n                  \\x3c!-- <ng-template #template let-data> --\\x3e\\r\\n                    <div class=\"col-md-12\">\\r\\n                      <div class=\"row\">\\r\\n                          <div class=\"col-md-12\">\\r\\n                              <ng-template #template let-data>\\r\\n                              <div class=\"row\">\\r\\n                                <div class=\"col-md-6\">\\r\\n                                    <button class=\"addbtn1_style\"  [disabled]=\"!data.ShowCalibrationEditButton\" (click)=\"EditCalibration($event,data)\" ejs-button >\\r\\n                                        <i class=\"fa fa-edit\"></i>        \\r\\n                                         &nbsp;Edit \\r\\n                                      </button>\\r\\n                                </div>\\r\\n                                <div class=\"col-md-6\">\\r\\n                                    <button class=\"addbtn1_style\" [disabled]=\"!data.ShowCalibrationAddButton\"  (click)=\"addCalibration($event,data)\" ejs-button >\\r\\n                                        <i class=\"fas fa-plus-circle\"></i>        \\r\\n                                        &nbsp;Add \\r\\n                                      </button>\\r\\n                                  </div>\\r\\n                              </div>\\r\\n                              </ng-template>\\r\\n                            </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                   \\r\\n               \\x3c!--  <div class=\"loc\">\\r\\n                 <button class=\"addbtn1_style\"  [disabled]=\"!data.ShowCalibrationEditButton\" (click)=\"EditCalibration($event,data)\" ejs-button >\\r\\n                      <i class=\"fa fa-edit\"></i>        \\r\\n                      &nbsp;Edit</button>\\r\\n\\r\\n\\r\\n                             <button class=\"addbtn1_style\" [disabled]=\"!data.ShowCalibrationAddButton\"  (click)=\"addCalibration($event,data)\" ejs-button >\\r\\n                      <i class=\"fas fa-plus-circle\"></i>        \\r\\n                      &nbsp;Add</button>\\r\\n                </div> --\\x3e\\r\\n              \\x3c!-- </ng-template>  --\\x3e\\r\\n            </e-column>\\r\\n           </div>\\r\\n\\r\\n            <e-column field=\\'EquipmentId\\' headerText=\\'Equipment Id\\'  headerTextAlign=\"center\" textAlign=\"left\" width=130>\\r\\n            </e-column>\\r\\n            <e-column field=\\'EquipmentTypeName\\' headerText=\\'Equipment Name\\'headerTextAlign=\\'center\\' textAlign=\\'left\\'\\r\\n              width=160></e-column>\\r\\n            <e-column field=\\'EqsCalibrationDueDate\\' headerText=\\'Due Date\\' headerTextAlign=\\'center\\' textAlign=\\'left\\'  [format]=\\'Dateformat\\'  [filter]=\\'filter\\' width=160>\\r\\n            </e-column>\\r\\n            <e-column field=\\'EqsCalibrationPerformedDate\\' headerText=\\'Performed Date\\'  [format]=\\'Dateformat\\'\\r\\n            headerTextAlign=\\'center\\' textAlign=\\'left\\' [filter]=\\'filter\\' width=160>\\r\\n            </e-column>\\r\\n            <e-column field=\\'EqsCalibrationNextDueDate\\' headerText=\\'Next Due Date\\'  [format]=\\'Dateformat\\'\\r\\n            headerTextAlign=\\'center\\' textAlign=\\'left\\' [filter]=\\'filter\\' width=160>\\r\\n            </e-column>\\r\\n            <e-column headerText=\"Attachment\" textAlign=\"center\" width=\"150\">\\r\\n              <ng-template #template let-data>\\r\\n                  <div><a (click)=\"OpenModal(content4);setRowId(data);\"><i [ngClass]=\"(data.HasAttachments===true)?\\'far fa-folder-open\\':\\'far fa-folder\\'\"></i></a></div>\\r\\n              </ng-template>\\r\\n            </e-column>\\r\\n            <e-column field=\\'EqsCalibrationDescription\\' headerText=\\'Description\\' headerTextAlign=\\'center\\' textAlign=\\'left\\' width=130>\\r\\n            </e-column>\\r\\n            <e-column field=\\'EqsCalibrationPerformedBy\\' headerText=\\'Performed By\\' headerTextAlign=\\'center\\' textAlign=\\'left\\' width=130>\\r\\n            </e-column>\\r\\n\\r\\n          </e-columns>\\r\\n        </ejs-grid>\\r\\n      </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<ng-template #addCalibrationModal let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n    \\x3c!-- <h5 class=\"modal-title\" *ngIf=\"!IsCalibrationEdit\">Add Calibration</h5>\\r\\n    <h5 class=\"modal-title\" *ngIf=\"IsCalibrationEdit\">Edit Calibration</h5>\\r\\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss(\\'Cross click\\')\">\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n    <div class=\"col-md-12\">\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-6\">\\r\\n          <h5 class=\"modal-title\" *ngIf=\"!IsCalibrationEdit\">Add Calibration</h5>\\r\\n          <h5 class=\"modal-title\" *ngIf=\"IsCalibrationEdit\">Edit Calibration</h5>\\r\\n        </div>\\r\\n        <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n          <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\"></i>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\"modal-body\">\\r\\n    <form [formGroup]=\\'CalibrationForm\\'>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-sm-12\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"EquipmentID\" class=\"control-label col-form-label\">Equipment ID:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n                <ejs-dropdownlist id=\\'EquipmentID\\' [dataSource]=\\'ObjEquipmentList\\' [fields]=\\'fields\\'\\r\\n                  [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\'\\r\\n                  (change)=\"GetEquipmentTypeById($event)\" name=\\'EqsEquipmentId\\' formControlName=\"EqsEquipmentId\"\\r\\n                  [disableControl]=\"IsCalibrationEdit\" width=76%>\\r\\n                </ejs-dropdownlist>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"EquipmentType\" class=\"control-label col-form-label\">Equipment Name:</label>\\r\\n                \\x3c!-- <ejs-dropdownlist id=\\'EquipmentType\\' [dataSource]=\\'objEquipmentType\\' [fields]=\\'fields\\'\\r\\n                  [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\' name=\"EquipmentTypeId\"\\r\\n                  formControlName=\" EquipmentTypeId\" [disabled]=\"IsCalibrationEdit\">\\r\\n                </ejs-dropdownlist> --\\x3e\\r\\n                   \\x3c!--  <div class=\"UnderLine_Type\"><label class=\"col-form-label\">{{objEquipmentType[\\'Name\\']}}</label>  --\\x3e\\r\\n                <div class=\"UnderLine_Type\"><label class=\"col-form-label\">{{ObjEquipmentTypeName}}</label> \\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"PerformedBy\" class=\"control-label col-form-label\">Performed By: </label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n                <ejs-dropdownlist id=\\'PerformedBy\\' [dataSource]=\\'ObjCalibrationPerformedByNameList\\' [fields]=\\'fields\\'\\r\\n                  (filtering)=\\'onFiltering($event)\\' [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\'\\r\\n                  [placeholder]=\\'watermark\\' name=\"EqsCalibrationPerformedById\"\\r\\n                  formControlName=\"EqsCalibrationPerformedById\"></ejs-dropdownlist>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <hr style=\"background-color: #a9a9a9;\">\\r\\n      <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-6\">\\r\\n                <label for=\"DateOfCalibration\" class=\"control-label col-form-label\">Date of Calibration:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n              </div>\\r\\n              <div class=\"col-md-6\">\\r\\n                <ejs-datepicker [value]=\\'dateValue\\' placeholder=\\'Enter date\\' name=\\'CalibrationPerformedDate\\'\\r\\n                  formControlName=\"CalibrationPerformedDate\"></ejs-datepicker>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label style=\"padding-top: 20px;\" for=\"ServiceAttachment\" class=\"control-label col-form-label\">Service Report:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <ejs-uploader\\r\\n                  #defaultupload\\r\\n                  [autoUpload]=\"false\"\\r\\n                  [dropArea]=\"dropEle\"\\r\\n                  formArrayName=\\'ServiceAttachmentList\\'\\r\\n                  (selected)=\"onServiceFileSelect($event)\"\\r\\n                ></ejs-uploader>\\r\\n                <small class=\"form-text link\">* multiple attachment</small>\\r\\n                <div *ngFor=\"let item of  ServiceAttachmentList\">\\r\\n                  <label class=\"link\" (click)=\"DownLoadFile(item.AttachmentPath)\">{{item.ImageName}}</label>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label style=\"padding-top: 20px;\" for=\"CalibrationAttachment\" class=\"control-label col-form-label\">Calibration Report:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                  <ejs-uploader\\r\\n                    #defaultupload\\r\\n                    [autoUpload]=\"false\"\\r\\n                    [dropArea]=\"dropEle\"\\r\\n                    formArrayName=\\'AttachmentList\\'\\r\\n                    (selected)=\"onFileSelect($event)\"\\r\\n                  ></ejs-uploader>\\r\\n                <small class=\"form-text link\">* multiple attachment</small>\\r\\n                <div *ngFor=\"let item of CalibrationAttachmentList\">\\r\\n                  <label class=\"link\" (click)=\"DownLoadFile(item.AttachmentPath)\">{{item.ImageName}}</label>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label for=\"Description\" class=\"control-label col-form-label\">Description:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <textarea class=\"form-control frm_tabtxtarea cye-lf-tag\" rows=\"5\" name=\\'EqsCalibrationDescription\\'\\r\\n                  formControlName=\"CalibrationDescription\"></textarea>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\"modal-footer\">\\r\\n    <button class=\"addmodal_style\" (click)=\"SaveCalibration()\" *ngIf=\"!IsCalibrationEdit\"   ejs-button>\\r\\n      Add</button>\\r\\n    <button class=\"addmodal_style\" (click)=\"UpdateCalibration()\" *ngIf=\"IsCalibrationEdit\"   ejs-button>\\r\\n      Update\\r\\n    </button>\\r\\n    <button class=\"cancel_style\" (click)=\"modal.close(\\'Close click\\')\" ejs-button>cancel</button>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template #content4 let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n    \\x3c!-- <h5 class=\"modal-title\">Attachments</h5>\\r\\n    <button\\r\\n      type=\"button\"\\r\\n      class=\"close\"\\r\\n      aria-label=\"Close\"\\r\\n      (click)=\"modal.dismiss(\\'Cross click\\')\">\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n    <div class=\"col-md-12\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n              <h5 class=\"modal-title\">Attachments</h5>\\r\\n          </div>\\r\\n          <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n            <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\"></i>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n  </div>\\r\\n  <div class=\"modal-body\">\\r\\n    <ejs-filemanager id=\\'overview\\' #fileManagerCtrl [ajaxSettings]=\\'ajaxSettings\\' [searchSettings]=\\'searchSettings\\' (beforeDownload)=\"beforeSend($event)\"\\r\\n       (beforeImageLoad)=\"beforeSend($event)\" [rootAliasName]=\"\\'Attachments\\'\" (beforeSend)=\"beforeSend($event)\" [contextMenuSettings]=\\'contextMenuSettings\\' [toolbarSettings]=\\'toolbarSettings\\' view=\\'Details\\'>\\r\\n   </ejs-filemanager>\\r\\n  </div>\\r\\n</ng-template>\\r\\n'},wqGY:function(t,e,i){\"use strict\";i.r(e);var n=i(\"CcnG\"),a=i(\"Ip0R\"),r=i(\"ZYCi\"),o=i(\"4GxJ\"),l=i(\"22mB\"),s=i(\"SZbH\"),d=i(\"LYUm\"),c=i(\"t/Na\"),p=i(\"AytR\"),u=i(\"xYOl\"),b=function(t,e,i,n){var a,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(r<3?a(o):r>3?a(e,i,o):a(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},m=function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,i){this._http=t,this._toastr=e,this._eqsCommonService=i,this._urlEqsCalibration=p.a.apiUrl+\"/api/EqsCalibration/\",this._urlEqsCommon=p.a.apiUrl+\"/api/EQSCommon/\"}return t.prototype.GetEquipmentList=function(){return this._eqsCommonService.GetEquipmentList()},t.prototype.GetEquipmentTypeById=function(t){return this._eqsCommonService.GetEquipmentTypeById(t)},t.prototype.GetCalibrationPerformedByNameList=function(){return this._http.get(this._urlEqsCalibration+\"GetCalibrationPerformedByNameList\")},t.prototype.SaveEqsCalibration=function(t,e,i){var n=new FormData;return n.append(\"CalibrationObj\",JSON.stringify(t)),e.forEach((function(t){n.append(\"Calibrationfile\",t.Attachment)})),i.forEach((function(t){n.append(\"Servicefile\",t.Attachment)})),this._http.post(this._urlEqsCalibration+\"SaveCalibration\",n)},t.prototype.UpdateEqsCalibration=function(t,e,i){var n=new FormData;return n.append(\"CalibrationObj\",JSON.stringify(t)),e.forEach((function(t){n.append(\"Calibrationfile\",t.Attachment)})),i.forEach((function(t){n.append(\"Servicefile\",t.Attachment)})),this._http.post(this._urlEqsCalibration+\"UpdateCalibration\",n)},t.prototype.GetCalibrationList=function(){return this._http.get(this._urlEqsCalibration+\"Get\")},t.prototype.GetCalibrationDetail=function(t){return this._http.post(this._urlEqsCalibration+\"GetCalibrationDetails/\"+t,t)},t.prototype.GetCalibrationRequiredEquipmentId=function(){return this._eqsCommonService.GetCalibrationRequiredEquipmentId()},t.prototype.getAccessRight=function(){return this._http.get(this._urlEqsCalibration+\"GetAccessRight\")},t.prototype.SaveReportDownloadLogInAudit=function(t){return this._http.post(this._urlEqsCommon+\"ReportDownloadlog\",t)},t.prototype.DeleteCalibration=function(t){var e=new c.HttpParams;return e=e.append(\"EqsCalibrationRecordId\",t.toString()),this._http.get(this._urlEqsCalibration+\"DeleteCalibration\",{params:e})},t.prototype.GetEquipmentTypeList=function(){return this._eqsCommonService.GetEquipmentTypeList()},t.prototype.GetEquipmentAndType=function(t){return this._http.post(this._urlEqsCalibration+\"GetEquipmentAndType/\"+t,t)},t.prototype.SaveCalibrationRecord=function(t){var e=new c.HttpParams;return e=e.append(\"EqsEquipmentId\",t.toString()),this._http.get(this._urlEqsCalibration+\"SaveCalibrationRecord\",{params:e})},t.ctorParameters=function(){return[{type:c.HttpClient},{type:s.b},{type:u.a}]},t=b([Object(n.Injectable)({providedIn:\"root\"}),m(\"design:paramtypes\",[c.HttpClient,s.b,u.a])],t)}(),h=i(\"MCLT\"),v=i(\"gIcY\"),C=i(\"HNZf\"),g=i(\"gyId\"),y=i(\"13/J\"),E=i(\"teG2\"),q=function(t,e,i,n){var a,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(r<3?a(o):r>3?a(e,i,o):a(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},w=function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(t,e,i,n){return new(i||(i=Promise))((function(a,r){function o(t){try{s(n.next(t))}catch(e){r(e)}}function l(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?a(t.value):new i((function(e){e(t.value)})).then(o,l)}s((n=n.apply(t,e||[])).next())}))},j=function(t,e){var i,n,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(i)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(i=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(l){r=[6,l],n=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},I=function(t){return t&&t.__esModule?t:{default:t}},O=function(){function t(t,e,i,n,a,r,o,l){var s=this;this.routes=t,this.modalService=e,this.toastr=i,this._eqsCalibrationService=n,this.formBuilder=a,this.formErrorDisplay=r,this._common=o,this.confirmationDialogService=l,this.dateValue=new Date,this.format=\"dd-MMMM-yyyy\",this.objEquipmentType={},this.IsCalibrationEdit=!1,this.PageAccessRight={},this.DisableButton=!1,this.flag=!1,this.show=!0,this.data3=[{Name:\"Select\",Code:\"S\"}],this.fields={text:\"Name\",value:\"Id\"},this.height=\"220px\",this.watermark=\"Select\",this.watermark1=\"Select Type\",this.onFiltering=function(t){var e=new d.b;e=\"\"!==t.text?e.where(\"Name\",\"startswith\",t.text,!0):e,t.updateData(s.data3,e)},this.items2=[{text:\"Inhouse\"},{text:\"Vendor\"}],this._restApi=p.a.apiUrl+\"/FileManager/\",this.path={saveUrl:\"https://aspnetmvc.syncfusion.com/services/api/uploadbox/Save\",removeUrl:\"https://aspnetmvc.syncfusion.com/services/api/uploadbox/Remove\"},this.onFileSelect=function(t){t.filesData.forEach((function(t){s.CalibrationForm.controls.AttachmentList.push(s.formBuilder.group({Attachment:t.rawFile}))})),console.log(s.CalibrationForm.get(\"AttachmentList\").value)},this.onServiceFileSelect=function(t){t.filesData.forEach((function(t){s.CalibrationForm.controls.ServiceAttachmentList.push(s.formBuilder.group({Attachment:t.rawFile}))})),console.log(s.CalibrationForm.get(\"ServiceAttachmentList\").value)}}return t.prototype.onUploadSuccess=function(t){\"upload\"===t.operation&&console.log(\"File uploaded successfully\")},t.prototype.onUploadFailure=function(t){console.log(\"File failed to upload\")},t.prototype.ngOnInit=function(){var t=this;this.show=!1,this._eqsCalibrationService.getAccessRight().subscribe((function(e){t.PageAccessRight=e.Object,0==t.PageAccessRight.HasWriteAccess&&t.grid.hideColumns([\"Action\"])})),this.setForm(),this.load(),this.initFileManager(),this.editSettings={allowEditing:!0,allowAdding:!0,allowDeleting:!0,mode:\"Dialog\"},this.commands=[{type:\"Edit\",buttonOption:{iconCss:\"fa fa-edit\",cssClass:\"e-flat\"}},{type:\"Delete\",buttonOption:{cssClass:\"e-flat\",iconCss:\"e-icons e-add\"}}],this.lines=\"Both\",this.filterOptions={type:\"Menu\"},this.filter={params:{format:\"dd-MMM-yyyy\"}},this.Dateformat={type:\"date\",format:\"dd-MMM-yyyy\"},this.toolbarOptions=[\"ExcelExport\",\"Search\",\"PdfExport\"],this.toolbar=[\"Search\"],this.pageSettings={pageSize:10},this.wrapSettings={wrapMode:\"Content\"},this.groupOptions={showGroupedColumn:!0}},t.prototype.initFileManager=function(){this.ajaxSettings={url:this._restApi+\"FileOperations\",getImageUrl:this._restApi+\"GetImage\",uploadUrl:this._restApi+\"Upload\",downloadUrl:this._restApi+\"Download\"},this.searchSettings={allowSearchOnTyping:!1},this.navigationPaneSettings={maxWidth:\"850px\",minWidth:\"140px\",visible:!0},this.contextMenuSettings={file:[\"Open\",\"|\",\"Details\",\"Download\"],folder:[\"Open\",\"|\",\"Details\"],layout:[\"SortBy\",\"View\",\"Refresh\",\"|\",\"Details\",\"|\"],visible:!0},this.toolbarSettings={items:[\"Refresh\",\"View\",\"Details\"],visible:!0}},t.prototype.toolbarClick=function(t){var e=this;switch(t.item.id){case\"Grid_excelexport\":this.grid.columns[6].visible=!1;var i={fileName:\"Equipment_Calibration.xlsx\"},n={FeatureName:\"Calibration\",Description:\"Excel Report Is Downloaded.\"};this._eqsCalibrationService.SaveReportDownloadLogInAudit(n).subscribe((function(t){t.Result&&e.grid.excelExport(i)}));break;case\"Grid_pdfexport\":var a={fileName:\"Equipment_Calibration.pdf\",pageOrientation:\"Landscape\"};n={FeatureName:\"Calibration\",Description:\"Pdf Report Is Downloaded.\"};this._eqsCalibrationService.SaveReportDownloadLogInAudit(n).subscribe((function(t){t.Result&&e.grid.pdfExport(a)}))}},t.prototype.created=function(t){var e=this.grid.element,i=document.createElement(\"span\");i.className=\"e-clear-icon\",i.id=e.id+\"clear\",i.onclick=this.cancelBtnClick.bind(this),e.querySelector(\".e-toolbar-item .e-input-group\").appendChild(i)},t.prototype.cancelBtnClick=function(t){this.grid.searchSettings.key=\"\",this.grid.element.querySelector(\".e-input-group.e-search .e-input\").value=\"\"},t.prototype.OpenModal=function(t){var e=this;this.IsCalibrationEdit=!1,this.objEquipmentType={},this.ObjEquipmentTypeName=null,this.resetForm(),this.modalService.open(t,{centered:!0,size:\"lg\",backdrop:\"static\",keyboard:!1}).result.then((function(t){e.closeResult=\"Closed with: \"+t}),(function(t){e.closeResult=\"Dismissed \"+e.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===o.a.ESC?\"by pressing ESC\":t===o.a.BACKDROP_CLICK?\"by clicking on a backdrop\":\"with: \"+t},t.prototype.ngAfterViewInit=function(){},t.prototype.load=function(){this.GetCalibrationList(),this.GetEquipmentList(),this.GetCalibrationPerformedByNameList(),this.GetEquipmentTypeList()},t.prototype.setForm=function(){this.CalibrationForm=this.formBuilder.group({EqsCalibrationRecordId:[\"\"],EqsEquipmentId:[\"\",v.l.required],EquipmentTypeId:[\"\"],EqsCalibrationPerformedById:[\"\",v.l.required],CalibrationPerformedDate:[\"\",v.l.required],CalibrationDescription:[\"\"],AttachmentList:new v.b([]),ServiceAttachmentList:new v.b([])})},t.prototype.resetForm=function(){this.CalibrationForm.reset(),this.ServiceAttachmentList=[],this.CalibrationAttachmentList=[]},t.prototype.GetEquipmentTypeById=function(t){var e=this;this._eqsCalibrationService.GetEquipmentTypeById(t.value).subscribe((function(t){e.objEquipmentType=t.Object,e.ObjEquipmentTypeName=e.objEquipmentType.Name,1!=e.objEquipmentType.CalibrationRequired&&(e.toastr.error(\"Calibration Required Is Set to No. Please Go to Equipment Master And Edit The Equipment\"),e.DisableButton=!0)}))},t.prototype.GetCalibrationPerformedByNameList=function(){var t=this;this._eqsCalibrationService.GetCalibrationPerformedByNameList().subscribe((function(e){t.ObjCalibrationPerformedByNameList=e.Object}))},t.prototype.GetEquipmentList=function(){var t=this;this._eqsCalibrationService.GetCalibrationRequiredEquipmentId().subscribe((function(e){t.ObjEquipmentList=e.Object,t.ObjEquipmentListNew=t.ObjEquipmentList}))},t.prototype.GetCalibrationList=function(){var t=this;this._eqsCalibrationService.GetCalibrationList().subscribe((function(e){t.ObjCalibrationList=e.Object;for(var i=0;i<t.ObjCalibrationList.length;i++)null!=t.ObjCalibrationList[i].EqsCalibrationDueDate&&(t.ObjCalibrationList[i].EqsCalibrationDueDate=new Date(t.ObjCalibrationList[i].EqsCalibrationDueDate)),null!=t.ObjCalibrationList[i].EqsCalibrationPerformedDate&&(t.ObjCalibrationList[i].EqsCalibrationPerformedDate=new Date(t.ObjCalibrationList[i].EqsCalibrationPerformedDate),t.ObjCalibrationList[i].ShowCalibrationAddButton=!1,t.ObjCalibrationList[i].ShowCalibrationEditButton=!0),null!=t.ObjCalibrationList[i].EqsCalibrationNextDueDate&&(t.ObjCalibrationList[i].EqsCalibrationNextDueDate=new Date(t.ObjCalibrationList[i].EqsCalibrationNextDueDate));t.ObjCalibrationList=y.a.parse.parseJson(t.ObjCalibrationList),1==t.flag&&t.GetEquipmentListById(t.id)}))},t.prototype.SaveCalibration=function(){var t=this;if(this.CalibrationForm.valid){var e=this.CalibrationForm.get(\"AttachmentList\").value,i=this.CalibrationForm.get(\"ServiceAttachmentList\").value;this._eqsCalibrationService.SaveEqsCalibration(this.CalibrationForm.value,e,i).subscribe((function(e){if(e.Result){t.toastr.success(e.ResultMessage),t.flag=!0;var i=e.Id;t.id=i,t.GetCalibrationList(),t.resetForm(),t.closeQualificationModal()}else t.toastr.error(e.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.CalibrationForm)},t.prototype.closeQualificationModal=function(){this.modalService.dismissAll()},t.prototype.editCalibration=function(t,e){var i=this;this._eqsCalibrationService.GetCalibrationDetail(t).subscribe((function(t){var n=t.Object;i.CalibrationAttachmentList=n.CalibrationAttachmentList,i.ServiceAttachmentList=n.ServiceAttachmentList,null!=n?(i.CalibrationForm.patchValue({EqsCalibrationRecordId:n.EqsCalibrationRecordId,EqsEquipmentId:n.EqsEquipmentId,EquipmentId:n.EquipmentId,EquipmentTypeId:n.EquipmentTypeId,EqsCalibrationPerformedById:n.EqsCalibrationPerformedById,CalibrationPerformedDate:n.CalibrationPerformedDate,CalibrationDescription:n.CalibrationDescription}),0==e&&(i.IsCalibrationEdit=!0,i.ObjEquipmentTypeName=n.EquipmentTypeName)):i.CalibrationForm.patchValue({EqsCalibrationRecordId:null,EqsEquipmentId:null,EquipmentId:null,EquipmentTypeId:null,EqsCalibrationPerformedById:null,CalibrationPerformedDate:null,CalibrationDescription:null}),!1===t.Result&&i.toastr.error(t.ResultMessage)}))},t.prototype.UpdateCalibration=function(){var t=this;if(this.CalibrationForm.valid){var e=this.CalibrationForm.get(\"AttachmentList\").value,i=this.CalibrationForm.get(\"ServiceAttachmentList\").value;this._eqsCalibrationService.UpdateEqsCalibration(this.CalibrationForm.value,e,i).subscribe((function(e){if(e.Result){t.flag=!0;var i=e.Id;t.id=i,console.log(\"Equipment Id update :\",i),t.toastr.success(e.ResultMessage),t.GetCalibrationList(),t.resetForm(),t.closeQualificationModal()}else t.toastr.error(e.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.CalibrationForm)},t.prototype.DownLoadFile=function(t){this._common.DownLoadFile(t).subscribe((function(t){var e=URL.createObjectURL(t);window.open(e,\"_blank\")}))},t.prototype.setRowId=function(t){this.EqsCalibrationRecordId=t.EqsCalibrationRecordId,this.EqsEquipmentId=t.EqsEquipmentId},t.prototype.beforeSend=function(t){var e=\"EQSCalibration/Equip_\"+this.EqsEquipmentId+\"/\"+this.EqsCalibrationRecordId;if(\"beforeImageLoad\"==t.name&&-1==t.imageUrl.indexOf(e)){var i=t.imageUrl.indexOf(\"path=\")+5;t.imageUrl=t.imageUrl.substring(0,i)+e+t.imageUrl.substring(i)}else if(\"beforeDownload\"==t.name)-1==t.data.path.indexOf(e)&&(t.data.path=e+t.data.path);else{var n=JSON.parse(t.ajaxSettings.data);\"Upload\"==t.action?-1==n[0].path.indexOf(e)&&(n[0].path=e+n[0].path):-1==n.path.indexOf(e)&&(n.path=e+n.path,\"move\"==t.action&&(n.targetPath=e+n.targetPath)),t.ajaxSettings.data=JSON.stringify(n)}},t.prototype.excelExportComplete=function(){this.grid.columns[6].visible=!0},t.prototype.pdfHeaderQueryCellInfo=function(t){t.cell.row.pdfGrid.repeatHeader=!0},t.prototype.actionCalibration=function(t){switch(t.commandColumn.type){case\"Delete\":this.OpenModal(this.CalibrationModal),t.rowData.EqsCalibrationRecordId>0?(this.editCalibration(t.rowData.EqsCalibrationRecordId,!0),this.ObjEquipmentTypeName=this.ObjCalibrationListNew[0].EquipmentTypeName):this.ShowRecordOnAddCalibration(t.rowData.EqsEquipmentId,!0);break;case\"Edit\":this.OpenModal(this.CalibrationModal),this.editCalibration(t.rowData.EqsCalibrationRecordId,!1)}},t.prototype.DeleteCalibration=function(t){var e=this;this._eqsCalibrationService.DeleteCalibration(t).subscribe((function(t){t.Result?(e.toastr.success(t.ResultMessage),e.GetCalibrationList()):e.toastr.error(t.ResultMessage)}))},t.prototype.checkCalibraationRequired=function(t){this.ObjEquipmentList.filter((function(e){return e.Id==t}))},t.prototype.GetEquipmentTypeList=function(){var t=this;this._eqsCalibrationService.GetEquipmentTypeList().subscribe((function(e){t.ObjEquipmentTypeList=e.Object}))},t.prototype.GetEquipmentIdByName=function(t){var e=this.ObjEquipmentList.filter((function(e){return e.EquipmentTypeId==t.value}));this.ObjEquipmentListNew=e},t.prototype.GetEquipmentListById=function(t){return S(this,void 0,void 0,(function(){var e,i,n,a,r,o=this;return j(this,(function(l){switch(l.label){case 0:return e=[],i=!1,this.flag=!1,this.show=!0,this.ObjCalibrationListNew=null,Object(h.isNullOrUndefined)(t.value)?(e=this.ObjCalibrationList.filter((function(e){return e.EqsEquipmentId==t})),i=!0):(e=this.ObjCalibrationList.filter((function(e){return e.EqsEquipmentId==t.value})),i=!1),e.length<=0?(this._eqsCalibrationService.GetEquipmentAndType(t.value).subscribe((function(t){o.ObjCalibrationListNew=t.Object;for(var e=0;e<o.ObjCalibrationListNew.length;e++)null!=o.ObjCalibrationListNew[e].EqsCalibrationDueDate&&(o.ObjCalibrationListNew[e].EqsCalibrationDueDate=new Date(o.ObjCalibrationListNew[e].EqsCalibrationDueDate));o.ObjCalibrationListNew=y.a.parse.parseJson(o.ObjCalibrationListNew)})),[3,4]):[3,1];case 1:if(0!=i)return[3,3];for(n=!1,a=null,r=0;r<e.length;r++)null==e[r].EqsCalibrationPerformedDate&&(n=!0),a=e[r].EqsEquipmentId;return 0!=n||null==a?[3,3]:[4,this._eqsCalibrationService.SaveCalibrationRecord(a).subscribe((function(t){t.Result?(o.flag=!0,o.id=a,o.GetCalibrationList()):o.toastr.error(t.ResultMessage)}))];case 2:l.sent(),l.label=3;case 3:this.ObjCalibrationListNew=e,l.label=4;case 4:return[2]}}))}))},t.prototype.ShowRecordOnAddCalibration=function(t,e){null!=this.ObjCalibrationListNew&&(this.CalibrationForm.patchValue({EqsEquipmentId:this.ObjCalibrationListNew[0].EqsEquipmentId,EquipmentId:this.ObjCalibrationListNew[0].EquipmentId,EquipmentTypeId:this.ObjCalibrationListNew[0].EquipmentTypeId}),this.ObjEquipmentTypeName=this.ObjCalibrationListNew[0].EquipmentTypeName)},t.prototype.addCalibration=function(t,e){this.OpenModal(this.CalibrationModal),e.EqsCalibrationRecordId>0?(this.editCalibration(e.EqsCalibrationRecordId,!0),this.ObjEquipmentTypeName=this.ObjCalibrationListNew[0].EquipmentTypeName):this.ShowRecordOnAddCalibration(e.EqsEquipmentId,!0)},t.prototype.EditCalibration=function(t,e){this.OpenModal(this.CalibrationModal),this.editCalibration(e.EqsCalibrationRecordId,!1)},t.ctorParameters=function(){return[{type:r.Router},{type:o.c},{type:s.b},{type:f},{type:v.c},{type:C.a},{type:g.a},{type:E.a}]},q([Object(n.ViewChild)(\"grid\",{static:!1}),w(\"design:type\",l.h)],t.prototype,\"grid\",void 0),q([Object(n.ViewChild)(\"addCalibrationModal\",{static:!1}),w(\"design:type\",Object)],t.prototype,\"CalibrationModal\",void 0),t=q([Object(n.Component)({selector:\"app-eqs-calibration-record-master\",template:I(i(\"nINn\")).default,providers:[l.f,l.p],styles:[I(i(\"SG6C\")).default]}),w(\"design:paramtypes\",[r.Router,o.c,s.b,f,v.c,C.a,g.a,E.a])],t)}(),x=function(t,e,i,n){var a,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(r<3?a(o):r>3?a(e,i,o):a(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},D=[{path:\"\",children:[{path:\"\",data:{urls:[{title:\"Home\",url:\"/landing\"},{title:\"EQS\",url:\"/eqs-home\"},{title:\" Calibration\"}]},component:O}]}],L=function(){function t(){}return t=x([Object(n.NgModule)({imports:[r.RouterModule.forChild(D)],exports:[r.RouterModule]})],t)}(),A=i(\"UPmj\"),R=i(\"ERWf\"),N=i(\"WaL4\"),_=i(\"sE5F\"),T=i(\"1sLA\"),P=i(\"TkSO\"),k=i(\"Cqot\"),G=i(\"g0hO\");i.d(e,\"EqsCalibrationRecordMasterModule\",(function(){return M}));var F=function(t,e,i,n){var a,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(r<3?a(o):r>3?a(e,i,o):a(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},M=function(){function t(){}return t=F([Object(n.NgModule)({declarations:[O],imports:[a.CommonModule,L,l.i,A.b,R.a,N.c,P.c,k.b,_.a,_.b,v.f,P.e,v.k,G.a,T.d],providers:[l.k,l.e,l.o,l.j,l.a,l.f,l.g,T.e,T.f,T.a,l.b,l.d,T.f,l.l]})],t)}()}}]);","extractedComments":[]}