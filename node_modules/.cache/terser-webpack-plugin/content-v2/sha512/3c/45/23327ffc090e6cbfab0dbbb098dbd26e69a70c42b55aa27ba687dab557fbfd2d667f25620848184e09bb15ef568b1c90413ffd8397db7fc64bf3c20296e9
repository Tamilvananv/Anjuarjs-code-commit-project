{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{\"/UrK\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"CcnG\"),a=r(\"Ip0R\"),o=r(\"22mB\"),i=r(\"ZYCi\"),s=r(\"4GxJ\"),l=r(\"LYUm\"),c=r(\"t/Na\"),p=r(\"SZbH\"),d=r(\"AytR\"),m=function(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},u=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t){this._http=e,this._toastr=t,this._urlDepartment=d.a.apiUrl+\"/api/Department/\"}return e.prototype.GetManagerNameList=function(){return this._http.get(this._urlDepartment+\"GetUserList\")},e.prototype.SaveDepartment=function(e){return this._http.post(this._urlDepartment+\"SaveDepartment\",e)},e.prototype.GetDepartmentList=function(){return this._http.get(this._urlDepartment+\"Get\")},e.prototype.GetDepartmentDetail=function(e){return this._http.post(this._urlDepartment+\"GetDepartmentDetails/\"+e,e)},e.prototype.UpdateDepartment=function(e){return this._http.post(this._urlDepartment+\"UpdateDepartment\",e)},e.prototype.getAccessRight=function(){return this._http.get(this._urlDepartment+\"GetAccessRight\")},e.prototype.SaveExcelReportDownload=function(){return this._http.post(this._urlDepartment+\"ExcelReportDownload\",1)},e.prototype.SavePdfReportDownload=function(){return this._http.post(this._urlDepartment+\"PdfReportDownload\",1)},e.ctorParameters=function(){return[{type:c.HttpClient},{type:p.b}]},e=m([Object(n.Injectable)({providedIn:\"root\"}),u(\"design:paramtypes\",[c.HttpClient,p.b])],e)}(),h=r(\"gIcY\"),D=r(\"HNZf\"),g=function(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},v=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){return e&&e.__esModule?e:{default:e}},y=function(){function e(e,t,r,n,a,o){var i=this;this.toastr=e,this.modalService=t,this.routes=r,this._DepartmentService=n,this.formBuilder=a,this.formErrorDisplay=o,this.IsDepartmentEdit=!1,this.PageAccessRight={},this.data3=[{Name:\"Select\",Code:\"S\"}],this.fields={text:\"UserName\",value:\"UserId\"},this.height=\"220px\",this.watermark=\"Select Department Head\",this.watermark1=\"Select Type\",this.onFiltering=function(e){var t=new l.b;t=\"\"!==e.text?t.where(\"Name\",\"startswith\",e.text,!0):t,e.updateData(i.data3,t)}}return e.prototype.ngOnInit=function(){var e=this;this._DepartmentService.getAccessRight().subscribe((function(t){e.PageAccessRight=t.Object,0==e.PageAccessRight.HasWriteAccess&&e.grid.hideColumns([\"Action\"])})),this.load(),this.commands=[{type:\"Edit\",buttonOption:{iconCss:\" fa fa-edit\",cssClass:\"e-flat\"}}],this.lines=\"Both\",this.filterOptions={type:\"Menu\"},this.view=\"Details\",this.toolbarOptions=[\"ExcelExport\",\"Search\",\"PdfExport\"],this.groupOptions={showGroupedColumn:!0},this.pageSettings={pageSize:10}},e.prototype.adddepartment=function(e){var t=this;this.resetForm(),this.IsDepartmentEdit=!1,this.modalService.open(e,{centered:!0,size:\"lg\",backdrop:\"static\",keyboard:!1}).result.then((function(e){t.closeResult=\"Closed with: \"+e}),(function(e){t.closeResult=\"Dismissed \"+t.getDismissReason(e)}))},e.prototype.getDismissReason=function(e){return e===s.a.ESC?\"by pressing ESC\":e===s.a.BACKDROP_CLICK?\"by clicking on a backdrop\":\"with: \"+e},e.prototype.toolbarClick=function(e){var t=this;switch(e.item.id){case\"Grid_excelexport\":var r={fileName:\"Department.xlsx\"};this._DepartmentService.SaveExcelReportDownload().subscribe((function(e){e.Result&&t.grid.excelExport(r)}));break;case\"Grid_pdfexport\":var n={fileName:\"Department.pdf\"};this._DepartmentService.SavePdfReportDownload().subscribe((function(e){e.Result&&t.grid.pdfExport(n)}))}},e.prototype.load=function(){this.SetForm(),this.GetManagerNameList(),this.GetDepartmentList()},e.prototype.GetManagerNameList=function(){var e=this;this._DepartmentService.GetManagerNameList().subscribe((function(t){e.ObjManagerNameList=t.Object}))},e.prototype.GetDepartmentList=function(){var e=this;this._DepartmentService.GetDepartmentList().subscribe((function(t){e.ObjDepartmentList=t.Object}))},e.prototype.SaveDepartment=function(){var e=this;this.DepartmentForm.valid?this._DepartmentService.SaveDepartment(this.DepartmentForm.value).subscribe((function(t){t.Result?(e.toastr.success(t.ResultMessage),e.resetForm(),e.GetDepartmentList(),e.closeDepartmentModal()):e.toastr.error(t.ResultMessage)})):this.formErrorDisplay.showErrors(this.DepartmentForm)},e.prototype.closeDepartmentModal=function(){this.modalService.dismissAll()},e.prototype.EditDepartment=function(e){var t=this;this._DepartmentService.GetDepartmentDetail(e.rowData.DepartmentId).subscribe((function(e){var r=e.Object;t.DepartmentForm.patchValue({DepartmentId:r.DepartmentId,DepartmentHead:r.DepartmentHead,DepartmentName:r.DepartmentName,DepartmentHeadName:r.DepartmentHeadName}),t.IsDepartmentEdit=!0}))},e.prototype.UpdateDepartment=function(){var e=this;this.DepartmentForm.valid?this._DepartmentService.UpdateDepartment(this.DepartmentForm.value).subscribe((function(t){t.Result?(e.toastr.success(t.ResultMessage),e.GetDepartmentList(),e.resetForm(),e.closeDepartmentModal()):e.toastr.warning(t.ResultMessage)})):this.formErrorDisplay.showErrors(this.DepartmentForm)},e.prototype.SetForm=function(){this.DepartmentForm=this.formBuilder.group({DepartmentId:[\"\"],DepartmentName:[\"\",h.l.required],DepartmentHeadName:[\"\"],DepartmentHead:[\"\",h.l.required]})},e.prototype.resetForm=function(){this.DepartmentForm.reset()},e.prototype.pdfHeaderQueryCellInfo=function(e){e.cell.row.pdfGrid.repeatHeader=!0},e.prototype.created=function(e){var t=this.grid.element,r=document.createElement(\"span\");r.className=\"e-clear-icon\",r.id=t.id+\"clear\",r.onclick=this.cancelBtnClick.bind(this),t.querySelector(\".e-toolbar-item .e-input-group\").appendChild(r)},e.prototype.cancelBtnClick=function(e){this.grid.searchSettings.key=\"\",this.grid.element.querySelector(\".e-input-group.e-search .e-input\").value=\"\"},e.ctorParameters=function(){return[{type:p.b},{type:s.c},{type:i.Router},{type:f},{type:h.c},{type:D.a}]},g([Object(n.ViewChild)(\"grid\",{static:!1}),v(\"design:type\",o.h)],e.prototype,\"grid\",void 0),e=g([Object(n.Component)({selector:\"app-departments\",template:b(r(\"tB7A\")).default,styles:[b(r(\"0cAq\")).default]}),v(\"design:paramtypes\",[p.b,s.c,i.Router,f,h.c,D.a])],e)}(),w=function(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},R=[{path:\"\",data:{urls:[{title:\"Home\",url:\"/landing\"},{title:\"User Management\",url:\"/usermanagement\"},{title:\"Departments\",url:\"/departments\"}]},component:y}],x=function(){function e(){}return e=w([Object(n.NgModule)({imports:[i.RouterModule.forChild(R)],exports:[i.RouterModule]})],e)}(),S=r(\"Cqot\"),_=r(\"TkSO\"),j=r(\"1sLA\"),C=r(\"g0hO\");r.d(t,\"DepartmentsModule\",(function(){return E}));var O=function(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},E=function(){function e(){}return e=O([Object(n.NgModule)({declarations:[y],imports:[a.CommonModule,x,o.i,S.b,_.c,h.f,C.a,h.k,_.e],providers:[o.k,o.o,o.f,o.j,o.g,o.b,o.d,o.p,j.e,j.a,o.e,o.m,o.a,o.l]})],e)}()},\"0cAq\":function(e,t,r){\"use strict\";r.r(t),t.default=\".btn_frmsubmit1{\\r\\n    background-color: #03be80;\\r\\n    color: white;\\r\\n    margin: 5px 20px 10px 0px;\\r\\n    width: 170px;\\r\\n  }\\r\\n\\r\\n  .edit_link{\\r\\n    font-size: 14px;\\r\\n  }\\r\\n  \"},tB7A:function(e,t,r){\"use strict\";r.r(t),t.default='<div class=\"row\" style=\"padding-top: 28px\">\\r\\n  <div class=\"col-md-12\">\\r\\n    <div class=\"row\" *ngIf=\"PageAccessRight.HasWriteAccess\">\\r\\n      <div class=\"col-md-6 control-section\">\\r\\n        <button\\r\\n          type=\"submit\"\\r\\n          class=\"addbtn_style\"\\r\\n          (click)=\"adddepartment(addDepartmentModal)\"\\r\\n          ejs-button\\r\\n        >\\r\\n          <i class=\"fa fa-plus\"></i> &nbsp;Add Department\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div style=\"padding-top: 6px;\">\\r\\n<ejs-grid\\r\\n  #grid\\r\\n  id=\"Grid\"\\r\\n  [dataSource]=\"ObjDepartmentList\"\\r\\n  [gridLines]=\"lines\"\\r\\n  height=\"370px\"\\r\\n  [allowResizing]=\"true\"\\r\\n  allowFiltering=\"true\"\\r\\n  [toolbar]=\"toolbarOptions\"\\r\\n  [allowExcelExport]=\"true\"\\r\\n  (toolbarClick)=\"toolbarClick($event)\"\\r\\n  [filterSettings]=\"filterOptions\"\\r\\n  [gridLines]=\"lines\"\\r\\n  [enableHover]=\"false\"\\r\\n  [allowSorting]=\"true\"\\r\\n  (commandClick)=\"EditDepartment($event); adddepartment(addDepartmentModal)\"\\r\\n  [allowGrouping]=\"true\"\\r\\n  [showColumnMenu]=\"true\"\\r\\n  [groupSettings]=\"groupOptions\"\\r\\n  [allowPdfExport]=\"true\"\\r\\n  (pdfHeaderQueryCellInfo)=\\'pdfHeaderQueryCellInfo($event)\\'\\r\\n  [allowPaging]=\\'true\\'\\r\\n  [pageSettings]=\\'pageSettings\\'\\r\\n    (created)=\"created($event)\"\\r\\n>\\r\\n  <e-columns>\\r\\n    \\r\\n      <e-column            \\r\\n        headerText=\"Action\"\\r\\n        [commands]=\"commands\"\\r\\n       textAlign=\"center\"\\r\\n        width=\"30\"\\r\\n       \\r\\n      ></e-column>\\r\\n  \\r\\n    <e-column\\r\\n      field=\"RowNumber\"\\r\\n      headerText=\"Sr. No.\"\\r\\n      headerTextAlign=\"center\" textAlign=\"left\"\\r\\n            width=\"50\"\\r\\n    ></e-column>\\r\\n\\r\\n\\r\\n    <e-column\\r\\n      field=\"DepartmentName\"\\r\\n      headerText=\"Department Name\"\\r\\n      headerTextAlign=\"center\" textAlign=\"left\"\\r\\n    ></e-column>\\r\\n\\r\\n    <e-column\\r\\n      field=\"DepartmentHeadName\"\\r\\n      headerText=\"Department Head \"\\r\\n      headerTextAlign=\"center\" textAlign=\"left\"\\r\\n      width=\"100\"\\r\\n    ></e-column> \\r\\n\\r\\n  </e-columns>\\r\\n</ejs-grid>\\r\\n</div>\\r\\n<ng-template #addDepartmentModal let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n\\r\\n      <div class=\"col-md-12\">\\r\\n          <div class=\"row\">\\r\\n              <div class=\"col-md-6\">\\r\\n                  <h5 class=\"modal-title\" *ngIf=\"!IsDepartmentEdit\">Add Department</h5>\\r\\n                  <h5 class=\"modal-title\" *ngIf=\"IsDepartmentEdit\">Edit Department</h5>\\r\\n              </div>\\r\\n              <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n                      <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\" ></i>\\r\\n              </div>\\r\\n\\r\\n          </div>\\r\\n      </div>\\r\\n    \\x3c!-- <h5 class=\"modal-title\" *ngIf=\"!IsDepartmentEdit\">Add Department</h5>\\r\\n    <h5 class=\"modal-title\" *ngIf=\"IsDepartmentEdit\">Edit Department</h5>\\r\\n    <button\\r\\n      type=\"button\"\\r\\n      class=\"close\"\\r\\n      aria-label=\"close\"\\r\\n      (click)=\"modal.dismiss(\\'Cross click\\')\"\\r\\n    >\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n  </div>\\r\\n  <div class=\"modal-body\">\\r\\n    <form [formGroup]=\"DepartmentForm\">\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n              <label for=\"DepartmentName\" class=\"control-label col-form-label\"\\r\\n                >Enter Department:</label\\r\\n              ><span class=\"text-danger\">*</span>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n              <div\\r\\n                class=\"col-md-7\"\\r\\n                print-error\\r\\n                [control]=\"DepartmentForm.get(\\'DepartmentName\\')\"\\r\\n              >\\r\\n                <input\\r\\n                  type=\"text\"\\r\\n                  class=\"form-control\"\\r\\n                  id=\"DepartmentName\"\\r\\n                  placeholder=\"Enter Department Here\"\\r\\n                  formControlName=\"DepartmentName\"\\r\\n                  name=\"DepartmentName\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n              <label for=\"ManagerId\" class=\"control-label col-form-label\"\\r\\n                >Select Department Head:</label\\r\\n              ><span class=\"text-danger\">*</span>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n              <div\\r\\n                class=\"col-md-7\"\\r\\n                print-error\\r\\n                [control]=\"DepartmentForm.get(\\'Department Head\\')\"\\r\\n              >\\r\\n                <ejs-dropdownlist\\r\\n                  id=\"Manager\"\\r\\n                  [dataSource]=\"ObjManagerNameList\"\\r\\n                  [fields]=\"fields\"\\r\\n                 \\r\\n                  [popupHeight]=\"height\"\\r\\n                  [allowFiltering]=\"true\"\\r\\n                  [placeholder]=\"watermark\"\\r\\n                  name=\"DepartmentHead\"\\r\\n                  formControlName=\"DepartmentHead\"\\r\\n                > </ejs-dropdownlist>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\"modal-footer\">\\r\\n    <button\\r\\n      class=\"addmodal_style\"\\r\\n      (click)=\"SaveDepartment()\"\\r\\n      *ngIf=\"!IsDepartmentEdit\"\\r\\n      ejs-button\\r\\n    >\\r\\n      Add\\r\\n    </button>\\r\\n    <button\\r\\n      class=\"addmodal_style\"\\r\\n      (click)=\"UpdateDepartment()\"\\r\\n      *ngIf=\"IsDepartmentEdit\"\\r\\n      ejs-button\\r\\n    >\\r\\n      Update\\r\\n    </button>\\r\\n    <button\\r\\n      class=\"cancel_style\"\\r\\n      (click)=\"modal.close(\\'Close click\\')\"\\r\\n      ejs-button\\r\\n    >\\r\\n      cancel\\r\\n    </button>\\r\\n  </div>\\r\\n</ng-template>\\r\\n'}}]);","extractedComments":[]}