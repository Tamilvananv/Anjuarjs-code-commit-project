{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{\"B+aw\":function(t,e,r){\"use strict\";r.r(e);var i=r(\"CcnG\"),n=r(\"Ip0R\"),a=r(\"ZYCi\"),o=r(\"4GxJ\"),l=r(\"SZbH\"),s=r(\"22mB\"),c=r(\"t/Na\"),d=r(\"AytR\"),u=r(\"2yhH\"),m=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},p=function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t,e){this._http=t,this._icsCommonService=e,this._urlICSCalibration=d.a.apiUrl+\"/api/IcsCalibration/\",this._urlIcsCommon=d.a.apiUrl+\"/api/ICSCommon/\"}return t.prototype.GetInstrumentTypeById=function(t){return this._icsCommonService.GetInstrumentTypeById(t)},t.prototype.GetCalibrationList=function(){return this._http.get(this._urlICSCalibration+\"Get\")},t.prototype.GetPerformedByMasterList=function(){return this._icsCommonService.GetPerformedByMasterList()},t.prototype.GetCalibrationDetail=function(t){return this._http.post(this._urlICSCalibration+\"GetQualificationDetails/\"+t,t)},t.prototype.SaveCalibration=function(t,e,r){var i=new FormData;return i.append(\"CalibrationObj\",JSON.stringify(t)),e.forEach((function(t){i.append(\"Calibrationfile\",t.Attachment)})),r.forEach((function(t){i.append(\"Servicefile\",t.Attachment)})),this._http.post(this._urlICSCalibration+\"SaveCalibration\",i)},t.prototype.UpdateCalibration=function(t,e,r){var i=new FormData;return i.append(\"CalibrationObj\",JSON.stringify(t)),e.forEach((function(t){i.append(\"Calibrationfile\",t.Attachment)})),r.forEach((function(t){i.append(\"Servicefile\",t.Attachment)})),this._http.post(this._urlICSCalibration+\"UpdateInstrumentCalibration\",i)},t.prototype.GetSerialNo=function(t){return this._icsCommonService.GetSerialNo(t)},t.prototype.GetInstrumentTypeList=function(){return this._icsCommonService.GetInstrumentTypeList()},t.prototype.getAccessRight=function(){return this._http.get(this._urlICSCalibration+\"GetAccessRight\")},t.prototype.SaveReportDownloadLogInAudit=function(t){return this._http.post(this._urlIcsCommon+\"ReportDownloadlog\",t)},t.prototype.DeleteCalibration=function(t){var e=new c.HttpParams;return e=e.append(\"IcsCalibrationRecordId\",t.toString()),this._http.get(this._urlICSCalibration+\"DeleteCalibration\",{params:e})},t.prototype.GetInstrumentAndType=function(t){return this._http.post(this._urlICSCalibration+\"GetInstrumentAndType/\"+t,t)},t.prototype.SaveCalibrationRecord=function(t){var e=new c.HttpParams;return e=e.append(\"IcsInstrumentId\",t.toString()),this._http.get(this._urlICSCalibration+\"SaveCalibrationRecord\",{params:e})},t.ctorParameters=function(){return[{type:c.HttpClient},{type:u.a}]},t=m([Object(i.Injectable)({providedIn:\"root\"}),p(\"design:paramtypes\",[c.HttpClient,u.a])],t)}(),f=r(\"gIcY\"),h=r(\"HNZf\"),v=r(\"gyId\"),C=r(\"13/J\"),I=r(\"teG2\"),g=r(\"MCLT\"),y=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},w=function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(t,e,r,i){return new(r||(r=Promise))((function(n,a){function o(t){try{s(i.next(t))}catch(e){a(e)}}function l(t){try{s(i.throw(t))}catch(e){a(e)}}function s(t){t.done?n(t.value):new r((function(e){e(t.value)})).then(o,l)}s((i=i.apply(t,e||[])).next())}))},j=function(t,e){var r,i,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(l){a=[6,l],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},D=function(t){return t&&t.__esModule?t:{default:t}},O=function(){function t(t,e,r,i,n,a,o,l){var s=this;this.modalService=t,this._toastr=e,this._icscalibrationService=r,this.formErrorDisplay=i,this._icsCommonService=n,this.formBuilder=a,this._common=o,this.confirmationDialogService=l,this.dateValue=new Date,this.IsCalibrationEdit=!1,this.data3=[{Name:\"Select\",Code:\"S\"}],this.fields={text:\"Name\",value:\"Id\"},this.height=\"220px\",this.watermark=\"Select\",this.watermark1=\"Select Type\",this.show=!0,this.flag=!1,this._restApi=d.a.apiUrl+\"/FileManager/\",this.path={saveUrl:\"https://aspnetmvc.syncfusion.com/services/api/uploadbox/Save\",removeUrl:\"https://aspnetmvc.syncfusion.com/services/api/uploadbox/Remove\"},this.PageAccessRight={},this.onFileSelect=function(t){t.filesData.forEach((function(t){s.CalibrationForm.controls.AttachmentList.push(s.formBuilder.group({Attachment:t.rawFile}))}))},this.onServiceFileSelect=function(t){t.filesData.forEach((function(t){s.CalibrationForm.controls.ServiceAttachmentList.push(s.formBuilder.group({Attachment:t.rawFile}))}))}}return t.prototype.ngOnInit=function(){var t=this;this.show=!1,this._icscalibrationService.getAccessRight().subscribe((function(e){t.PageAccessRight=e.Object,0==t.PageAccessRight.HasWriteAccess&&t.grid.hideColumns([\"Action\"])})),this.LoadInitialData(),this.initFileManager(),this.editSettings={allowEditing:!0,allowAdding:!0,allowDeleting:!0,mode:\"Dialog\"},this.editSettings={allowEditing:!0,allowDeleting:!0},this.commands=[{type:\"Edit\",buttonOption:{iconCss:\" fa fa-edit\",cssClass:\"e-flat\"}}],this.lines=\"Both\",this.filterOptions={type:\"Menu\"},this.filter={params:{format:\"dd-MMM-yyyy\"}},this.Dateformat={type:\"date\",format:\"dd-MMM-yyyy\"},this.toolbarOptions=[\"ExcelExport\",\"Search\",\"PdfExport\"],this.toolbar=[\"Search\"],this.pageSettings={pageSize:10},this.groupOptions={showGroupedColumn:!0}},t.prototype.initFileManager=function(){this.ajaxSettings={url:this._restApi+\"FileOperations\",getImageUrl:this._restApi+\"GetImage\",uploadUrl:this._restApi+\"Upload\",downloadUrl:this._restApi+\"Download\"},this.searchSettings={allowSearchOnTyping:!1},this.navigationPaneSettings=d.a.navigationPaneSettings,this.contextMenuSettings=d.a.contextMenuSettings,this.toolbarSettings=d.a.toolbarSettings},t.prototype.toolbarClick=function(t){var e=this;switch(t.item.id){case\"Grid_excelexport\":this.grid.columns[6].visible=!1;var r={fileName:\"Instrument_Calibration.xlsx\"},i={FeatureName:\"Calibration\",Description:\"Excel Report Is Downloaded.\"};this._icscalibrationService.SaveReportDownloadLogInAudit(i).subscribe((function(t){t.Result&&e.grid.excelExport(r)}));break;case\"Grid_pdfexport\":var n={fileName:\"Instrument_Calibration.pdf\",pageOrientation:\"Landscape\"};i={FeatureName:\"Calibration\",Description:\"Pdf Report Is Downloaded.\"};this._icscalibrationService.SaveReportDownloadLogInAudit(i).subscribe((function(t){t.Result&&e.grid.pdfExport(n)}))}},t.prototype.created=function(t){var e=this.grid.element,r=document.createElement(\"span\");r.className=\"e-clear-icon\",r.id=e.id+\"clear\",r.onclick=this.cancelBtnClick.bind(this),e.querySelector(\".e-toolbar-item .e-input-group\").appendChild(r)},t.prototype.cancelBtnClick=function(t){this.grid.searchSettings.key=\"\",this.grid.element.querySelector(\".e-input-group.e-search .e-input\").value=\"\"},t.prototype.ngAfterViewInit=function(){},t.prototype.onUploadSuccess=function(t){\"upload\"===t.operation&&console.log(\"File uploaded successfully\")},t.prototype.onUploadFailure=function(t){console.log(\"File failed to upload\")},t.prototype.LoadInitialData=function(){this.GetInstrumentList(),this.GetCalibrationList(),this.GetPerformedByMasterList(),this.setForm(),this.GetInstrumentTypeList(),this.GetInstrumentList()},t.prototype.setForm=function(){this.CalibrationForm=this.formBuilder.group({IcsInstrumentId:[\"\",f.l.required],InstrumentTypeId:[\"\"],IcsCalibrationRecordId:[\"\"],CalibrationPerformedByID:[\"\",f.l.required],CalibrationPerformedDate:[\"\",f.l.required],CalibrationDescription:[\"\"],AttachmentList:new f.b([]),ServiceAttachmentList:new f.b([])})},t.prototype.resetForm=function(){this.CalibrationForm.reset(),this.ServiceAttachmentList=[],this.CalibrationAttachmentList=[]},t.prototype.OpenModal=function(t){var e=this;this.IsCalibrationEdit=!1,this.objInstrumentType.Name=null,this.ObjInstrumentTypeName=null,this.resetForm(),this.modalService.open(t,{centered:!0,size:\"lg\",backdrop:\"static\",keyboard:!1}).result.then((function(t){e.closeResult=\"Closed with: \"+t}),(function(t){e.closeResult=\"Dismissed \"+e.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===o.a.ESC?\"by pressing ESC\":t===o.a.BACKDROP_CLICK?\"by clicking on a backdrop\":\"with: \"+t},t.prototype.GetInstrumentList=function(){var t=this;this._icsCommonService.GetCalibrationRequiredInstrumentList().subscribe((function(e){t.ObjInstrumentList=e.Object,t.ObjInstrumentListNew=t.ObjInstrumentList}))},t.prototype.GetInstrumentTypeList=function(){var t=this;this._icscalibrationService.GetInstrumentTypeList().subscribe((function(e){t.objInstrumentType=e.Object}))},t.prototype.GetInstrumentTypeById=function(t){var e=this;this._icscalibrationService.GetInstrumentTypeById(t.value).subscribe((function(t){e.objInstrumentType=t.Object,e.ObjInstrumentTypeName=e.objInstrumentType.Name,1!=e.objInstrumentType.CalibrationRequired&&e._toastr.error(\"Calibration Require Is Set to No. Please Go to Instrument Master And Edit The Instrument\")}))},t.prototype.GetInstrumentIdListByTypeId=function(t){this.GetInstrumentList(),this.ObjInstrumentList=this.ObjInstrumentList.filter((function(e){return e.InstrumentTypeId===t.value}))},t.prototype.GetCalibrationList=function(){var t=this;this._icscalibrationService.GetCalibrationList().subscribe((function(e){t.ObjCalibrationList=e.Object;for(var r=0;r<t.ObjCalibrationList.length;r++)null!=t.ObjCalibrationList[r].CalibrationDueDate&&(t.ObjCalibrationList[r].CalibrationDueDate=new Date(t.ObjCalibrationList[r].CalibrationDueDate)),null!=t.ObjCalibrationList[r].CalibrationPerformedDate&&(t.ObjCalibrationList[r].CalibrationPerformedDate=new Date(t.ObjCalibrationList[r].CalibrationPerformedDate),t.ObjCalibrationList[r].ShowCalibrationAddButton=!1,t.ObjCalibrationList[r].ShowCalibrationEditButton=!0),null!=t.ObjCalibrationList[r].CalibrationNextDueDate&&(t.ObjCalibrationList[r].CalibrationNextDueDate=new Date(t.ObjCalibrationList[r].CalibrationNextDueDate));t.ObjCalibrationList=C.a.parse.parseJson(t.ObjCalibrationList),1==t.flag&&t.GetInstrumentListById(t.id)}))},t.prototype.GetPerformedByMasterList=function(){var t=this;this._icscalibrationService.GetPerformedByMasterList().subscribe((function(e){t.ObjPerformedByList=e.Object}))},t.prototype.EditCalibration=function(t,e){var r=this;this._icscalibrationService.GetCalibrationDetail(t).subscribe((function(t){var i=t.Object;r.CalibrationAttachmentList=i.CalibrationAttachmentList,r.ServiceAttachmentList=i.ServiceAttachmentList,null!=i?(r.CalibrationForm.patchValue({IcsInstrumentId:i.IcsInstrumentId,InstrumentTypeId:i.InstrumentTypeId,IcsCalibrationRecordId:i.IcsCalibrationRecordId,CalibrationPerformedByID:i.CalibrationPerformedByID,CalibrationPerformedDate:i.CalibrationPerformedDate,CalibrationDescription:i.CalibrationDescription}),0==e&&(r.IsCalibrationEdit=!0,r.ObjInstrumentTypeName=i.InstrumentTypeName)):r.CalibrationForm.patchValue({IcsInstrumentId:null,InstrumentTypeId:null,IcsCalibrationRecordId:null,CalibrationPerformedByID:null,CalibrationPerformedDate:null,CalibrationDescription:null}),0==t.Result&&r._toastr.error(t.ResultMessage)}))},t.prototype.SaveCalibration=function(){var t=this;if(this.CalibrationForm.valid){var e=this.CalibrationForm.get(\"AttachmentList\").value,r=this.CalibrationForm.get(\"ServiceAttachmentList\").value;this._icscalibrationService.SaveCalibration(this.CalibrationForm.value,e,r).subscribe((function(e){if(e.Result){t.flag=!0;var r=e.Id;t.id=r,t.GetInstrumentList(),t.resetForm(),t.GetCalibrationList(),t.closeAddParameterModal(),t._toastr.success(e.ResultMessage)}else t._toastr.error(e.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.CalibrationForm)},t.prototype.UpdateCalibration=function(){var t=this;if(this.CalibrationForm.valid){var e=this.CalibrationForm.get(\"AttachmentList\").value,r=this.CalibrationForm.get(\"ServiceAttachmentList\").value;this._icscalibrationService.UpdateCalibration(this.CalibrationForm.value,e,r).subscribe((function(e){if(e.Result){t.flag=!0;var r=e.Id;t.id=r,t.GetInstrumentList(),t.resetForm(),t.GetCalibrationList(),t.closeAddParameterModal(),t._toastr.success(e.ResultMessage)}else t._toastr.error(e.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.CalibrationForm)},t.prototype.closeAddParameterModal=function(){this.resetForm(),this.modalService.dismissAll()},t.prototype.DownLoadFile=function(t){this._common.DownLoadFile(t).subscribe((function(t){var e=URL.createObjectURL(t);window.open(e,\"_blank\")}))},t.prototype.setRowId=function(t){this.IcsCalibrationRecordId=t.IcsCalibrationRecordId,this.IcsInstrumentId=t.IcsInstrumentId},t.prototype.beforeSend=function(t){var e=\"ICSCalibration/Inst_\"+this.IcsInstrumentId+\"/\"+this.IcsCalibrationRecordId;if(\"beforeImageLoad\"==t.name&&-1==t.imageUrl.indexOf(e)){var r=t.imageUrl.indexOf(\"path=\")+5;t.imageUrl=t.imageUrl.substring(0,r)+e+t.imageUrl.substring(r)}else if(\"beforeDownload\"==t.name)-1==t.data.path.indexOf(e)&&(t.data.path=e+t.data.path);else{var i=JSON.parse(t.ajaxSettings.data);\"Upload\"==t.action?-1==i[0].path.indexOf(e)&&(i[0].path=e+i[0].path):-1==i.path.indexOf(e)&&(i.path=e+i.path,\"move\"==t.action&&(i.targetPath=e+i.targetPath)),t.ajaxSettings.data=JSON.stringify(i)}},t.prototype.excelExportComplete=function(){this.grid.columns[6].visible=!0},t.prototype.pdfHeaderQueryCellInfo=function(t){t.cell.row.pdfGrid.repeatHeader=!0},t.prototype.actionCalibration=function(t){switch(t.commandColumn.type){case\"Delete\":this.confirmationDialogService.confirm(\"Please confirm..\",\"Are you sure you want to delete... ?\",\"Yes\",\"No\").then((function(t){}));break;case\"Edit\":this.OpenModal(this.CalibrationModal),this.EditCalibration(t.rowData.IcsCalibrationRecordId,!1)}},t.prototype.DeleteCalibration=function(t){var e=this;this._icscalibrationService.DeleteCalibration(t).subscribe((function(t){t.Result?(e._toastr.success(t.ResultMessage),e.GetCalibrationList()):e._toastr.error(t.ResultMessage)}))},t.prototype.GetInstrumentIdByName=function(t){var e=this.ObjInstrumentList.filter((function(e){return e.InstrumentTypeId==t.value}));this.ObjInstrumentListNew=e},t.prototype.GetInstrumentListById=function(t){return S(this,void 0,void 0,(function(){var e,r,i,n,a,o=this;return j(this,(function(l){switch(l.label){case 0:return e=[],r=!1,this.flag=!1,this.show=!0,this.ObjCalibrationListNew=null,Object(g.isNullOrUndefined)(t.value)?(e=this.ObjCalibrationList.filter((function(e){return e.IcsInstrumentId==t})),r=!0):(e=this.ObjCalibrationList.filter((function(e){return e.IcsInstrumentId==t.value})),r=!1),e.length<=0?(this._icscalibrationService.GetInstrumentAndType(t.value).subscribe((function(t){o.ObjCalibrationListNew=t.Object;for(var e=0;e<o.ObjCalibrationListNew.length;e++)null!=o.ObjCalibrationListNew[e].CalibrationDueDate&&(o.ObjCalibrationListNew[e].CalibrationDueDate=new Date(o.ObjCalibrationListNew[e].CalibrationDueDate));o.ObjCalibrationListNew=C.a.parse.parseJson(o.ObjCalibrationListNew)})),[3,4]):[3,1];case 1:if(0!=r)return[3,3];for(i=!1,n=null,a=0;a<e.length;a++)null==e[a].CalibrationPerformedDate&&(i=!0),n=e[a].IcsInstrumentId;return 0!=i||null==n?[3,3]:[4,this._icscalibrationService.SaveCalibrationRecord(n).subscribe((function(t){t.Result?(o.flag=!0,o.id=n,o.GetCalibrationList()):o._toastr.error(t.ResultMessage)}))];case 2:l.sent(),l.label=3;case 3:this.ObjCalibrationListNew=e,l.label=4;case 4:return[2]}}))}))},t.prototype.showRecordOnAddCalibration=function(){null!=this.ObjCalibrationListNew&&(this.CalibrationForm.patchValue({IcsInstrumentId:this.ObjCalibrationListNew[0].IcsInstrumentId,InstrumentTypeId:this.ObjCalibrationListNew[0].InstrumentTypeId}),this.ObjInstrumentTypeName=this.ObjCalibrationListNew[0].InstrumentTypeName)},t.prototype.addCalibration=function(t,e){this.OpenModal(this.CalibrationModal),e.IcsCalibrationRecordId>0?(this.EditCalibration(e.IcsCalibrationRecordId,!0),this.ObjInstrumentTypeName=this.ObjCalibrationListNew[0].InstrumentTypeName):this.showRecordOnAddCalibration()},t.prototype.EditCalibrationRecord=function(t,e){this.OpenModal(this.CalibrationModal),this.EditCalibration(e.IcsCalibrationRecordId,!1)},t.ctorParameters=function(){return[{type:o.c},{type:l.b},{type:b},{type:h.a},{type:u.a},{type:f.c},{type:v.a},{type:I.a}]},y([Object(i.ViewChild)(\"grid\",{static:!1}),w(\"design:type\",s.h)],t.prototype,\"grid\",void 0),y([Object(i.ViewChild)(\"addCalibrationModal\",{static:!1}),w(\"design:type\",Object)],t.prototype,\"CalibrationModal\",void 0),t=y([Object(i.Component)({selector:\"app-ics-calibrationmaster\",template:D(r(\"SkT/\")).default,providers:[s.f],styles:[D(r(\"n5d2\")).default]}),w(\"design:paramtypes\",[o.c,l.b,b,h.a,u.a,f.c,v.a,I.a])],t)}(),L=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},x=[{path:\"\",data:{urls:[{title:\"Home\",url:\"/landing\"},{title:\"ICS\",url:\"/icshome\"},{title:\"Calibration\"}]},component:O}],A=function(){function t(){}return t=L([Object(i.NgModule)({imports:[a.RouterModule.forChild(x)],exports:[a.RouterModule]})],t)}(),R=r(\"UPmj\"),_=r(\"WaL4\"),N=r(\"ERWf\"),P=r(\"g0hO\"),T=r(\"Cqot\"),G=r(\"TkSO\"),E=r(\"1sLA\");r.d(e,\"IcsCalibrationmasterModule\",(function(){return F}));var k=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},F=function(){function t(){}return t=k([Object(i.NgModule)({declarations:[O],imports:[n.CommonModule,A,R.b,s.i,N.a,_.c,G.c,T.b,f.f,P.a,f.k,G.e,E.d],providers:[s.k,s.o,s.f,s.e,s.p,s.a,s.j,s.l]})],t)}()},\"SkT/\":function(t,e,r){\"use strict\";r.r(e),e.default=' <div class=\"col-md-12\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12 \" style=\"padding-top: 30px;\">\\r\\n          <div class=\"row \">\\r\\n              <div class=\"col-md-2\">\\r\\n                  <label for=\"InstrumentName\" class=\"control-label col-form-label\">Instrument Name:</label>\\r\\n               </div>\\r\\n               <div class=\"col-md-2\">\\r\\n                  <ejs-dropdownlist id=\\'objInstrumentType\\'  [fields]=\\'fields\\'  [dataSource]=\\'objInstrumentType\\'\\r\\n                  [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\'  (change)=\"GetInstrumentIdByName($event)\"\\r\\n                  width=100% >\\r\\n                </ejs-dropdownlist>\\r\\n                </div>\\r\\n                <div class=\"col-md-2\">\\r\\n                <label for=\"EquipmentID\" class=\"control-label col-form-label\">Instrument Id:</label>\\r\\n              </div>\\r\\n              <div class=\"col-md-2\">\\r\\n                 <ejs-dropdownlist id=\\'InstrumentId\\'  [fields]=\\'fields\\' (change)=\"GetInstrumentListById($event)\"\\r\\n                 [popupHeight]=\\'height\\' [allowFiltering]=\\'true\\' [placeholder]=\\'watermark\\' [dataSource]=\\'ObjInstrumentListNew\\'\\r\\n                 width=100%  >\\r\\n               </ejs-dropdownlist>\\r\\n               </div>\\r\\n          </div>\\r\\n         \\r\\n        </div>\\r\\n       \\r\\n      </div>\\r\\n</div> \\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<div class=\"row\">\\r\\n  <div class=\"col-lg-12\">\\r\\n    <div class=\"card\">\\r\\n      <div class=\"d-flex no-block align-items-center\">\\r\\n        <h4 class=\"card-title\"></h4>\\r\\n     \\x3c!--    <div class=\"ml-auto mb-2\" style=\"padding-top: 28px;\" *ngIf=\"PageAccessRight.HasWriteAccess\">\\r\\n          <button class=\"addbtn_style\" ejs-button (click)=\"OpenModal(addCalibrationModal)\">\\r\\n            <i class=\"fas fa-plus-circle\"></i>&nbsp;&nbsp;Add Calibration\\r\\n          </button>\\r\\n        </div> --\\x3e\\r\\n      </div>\\r\\n <div *ngIf=\"!PageAccessRight.HasWriteAccess\"><br /><br /> </div>\\r\\n   \\r\\n    <div *ngIf=\"show\">  \\r\\n\\r\\n      <div class=\"table-responsive\">\\r\\n        <ejs-grid #grid id=\\'Grid\\' [dataSource]=\"ObjCalibrationListNew\" [allowSelection]=\"true\" allowFiltering=\"true\"\\r\\n          [filterSettings]=\"filterOptions\" [gridLines]=\"lines\" [enableHover]=\"false\" [allowSorting]=\"true\"\\r\\n          [toolbar]=\\'toolbarOptions\\' [allowExcelExport]=\\'true\\' (toolbarClick)=\\'toolbarClick($event)\\' e-gridheader=\"\"\\r\\n          height=\"363px\" [toolbar]=\\'toolbar\\'  allowPaging=\\'true\\'  [pageSettings]=\\'pageSettings\\'  [showColumnMenu]=\"true\" [allowGrouping]=\"true\"  (excelExportComplete)=\\'excelExportComplete()\\'\\r\\n            (pdfHeaderQueryCellInfo)=\\'pdfHeaderQueryCellInfo($event)\\' [allowPdfExport]=\"true\"\\r\\n            (created)=\"created($event)\"   (commandClick)=\"actionCalibration($event)\" >\\r\\n          <e-columns>\\r\\n           \\x3c!--  <e-column headerText=\"Action\" textAlign=\"center\" width=\"120\" [commands]=\"commands\"> </e-column> --\\x3e\\r\\n            <div *ngIf=\"PageAccessRight.HasWriteAccess\">\\r\\n           <e-column headerText=\"Action\" textAlign=\"center\" width=\"200\">  \\r\\n            \\r\\n            <div class=\"col-md-12\">\\r\\n                      <div class=\"row\">\\r\\n                          <div class=\"col-md-12\">\\r\\n                              <ng-template #template let-data>\\r\\n                              <div class=\"row\">\\r\\n                                <div class=\"col-md-6\">\\r\\n                                    <button class=\"addbtn1_style\"  [disabled]=\"!data.ShowCalibrationEditButton\" (click)=\"EditCalibrationRecord($event,data)\" ejs-button >\\r\\n                                        <i class=\"fa fa-edit\"></i>        \\r\\n                                         &nbsp;Edit \\r\\n                                      </button>\\r\\n                                </div>\\r\\n                                <div class=\"col-md-6\">\\r\\n                                    <button class=\"addbtn1_style\" [disabled]=\"!data.ShowCalibrationAddButton\"  (click)=\"addCalibration($event,data)\" ejs-button >\\r\\n                                        <i class=\"fas fa-plus-circle\"></i>        \\r\\n                                        &nbsp;Add \\r\\n                                      </button>\\r\\n                                  </div>\\r\\n                              </div>\\r\\n                              </ng-template>\\r\\n                            </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  \\r\\n           </e-column>\\r\\n           </div> \\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            <e-column field=\"InstrumentId\" headerText=\"Instrument Id\"  headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"150\" ></e-column>\\r\\n            <e-column field=\"InstrumentTypeName\" headerText=\"Instrument Name\"  headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"150\" ></e-column>\\r\\n            <e-column field=\"CalibrationDueDate\" headerText=\"Due Date\"  headerTextAlign=\\'center\\' textAlign=\\'left\\' [format]=\\'Dateformat\\' [filter]=\\'filter\\' width=\"160\">\\r\\n            </e-column>\\r\\n            <e-column field=\"CalibrationPerformedDate\" headerText=\"Performed Date\"  [format]=\\'Dateformat\\'  [filter]=\\'filter\\' headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"160\">\\r\\n            </e-column>\\r\\n            <e-column field=\"CalibrationNextDueDate\" headerText=\"Next Due Date\"  [format]=\\'Dateformat\\' [filter]=\\'filter\\'  headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"160\">\\r\\n            </e-column>\\r\\n            <e-column headerText=\"Attachment\" textAlign=\"center\" width=\"150\">\\r\\n              <ng-template #template let-data>\\r\\n                  <div><a (click)=\"OpenModal(content4);setRowId(data);\"><i [ngClass]=\"(data.HasAttachments===true)?\\'far fa-folder-open\\':\\'far fa-folder\\'\"></i></a></div>\\r\\n              </ng-template>\\r\\n            </e-column>\\r\\n            <e-column field=\"CalibrationDescription\" headerText=\"Description\"  headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"150\"></e-column>\\r\\n            <e-column field=\"CalibrationPerformedBy\" headerText=\"Performed By\"  headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"150\"></e-column>\\r\\n          </e-columns>\\r\\n        </ejs-grid>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #addCalibrationModal let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n      <div class=\"col-md-12\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n              <h5 class=\"modal-title\" *ngIf=\"!IsCalibrationEdit\">Add Calibration</h5>\\r\\n              <h5 class=\"modal-title\" *ngIf=\"IsCalibrationEdit\">Edit Calibration</h5>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n              <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\"></i>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n    \\x3c!-- <h5 class=\"modal-title\" *ngIf=\"!IsCalibrationEdit\">Add Calibration</h5>\\r\\n    <h5 class=\"modal-title\" *ngIf=\"IsCalibrationEdit\">Edit Calibration</h5>\\r\\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss(\\'Cross click\\')\">\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n  </div>\\r\\n\\r\\n  <div class=\"modal-body\">\\r\\n    <form [formGroup]=\\'CalibrationForm\\'>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-sm-12\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"InstId\" class=\"control-label col-form-label\">Instrument ID:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n                  <div print-error [control]=\"CalibrationForm.get(\\'IcsInstrumentId\\')\">\\r\\n                <ejs-dropdownlist id=\"InstId\" [dataSource]=\"ObjInstrumentList\" [fields]=\"fields\" [popupHeight]=\"height\"\\r\\n                  [allowFiltering]=\"true\"\\r\\n                  [placeholder]=\"watermark\" name=\"IcsInstrumentId\"\\r\\n                  (change)=\"GetInstrumentTypeById($event)\"\\r\\n                  [disableControl]=\"IsCalibrationEdit\"\\r\\n                  showClearButton=\"true\"\\r\\n                  formControlName=\"IcsInstrumentId\"\\r\\n                  ></ejs-dropdownlist>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"InstType\" class=\"control-label col-form-label\">Instrument Name:</label>\\r\\n                <div class=\"UnderLine_Type\">\\r\\n               \\x3c!--   <label  class=\"col-form-label\">{{objInstrumentType[\\'Name\\']}}</label> --\\x3e\\r\\n                    <label class=\"col-form-label\">{{ObjInstrumentTypeName}}</label>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"col-sm-4\">\\r\\n              <div class=\"form-group\">\\r\\n                <label for=\"PerformedBy\" class=\"control-label col-form-label\">Performed By:\\r\\n                </label><span class=\"text-danger\">*</span>\\r\\n                <div print-error [control]=\"CalibrationForm.get(\\'CalibrationPerformedByID\\')\">\\r\\n                <ejs-dropdownlist id=\"PerformedBy\" [dataSource]=\"ObjPerformedByList\" [fields]=\"fields\"\\r\\n                  [popupHeight]=\"height\" [allowFiltering]=\"true\" [placeholder]=\"watermark\" name=\"PerformedById\"\\r\\n                  formControlName=\"CalibrationPerformedByID\"></ejs-dropdownlist>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <hr style=\"background-color: #a9a9a9;\" />\\r\\n      <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-6\">\\r\\n                <label for=\"DateOfCalibration\" class=\"control-label col-form-label\">Date of Calibration:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n              </div>\\r\\n              <div class=\"col-md-6\" print-error [control]=\"CalibrationForm.get(\\'CalibrationPerformedDate\\')\">\\r\\n                <ejs-datepicker [value]=\"dateValue\" placeholder=\"Enter date\" name=\"CalibrationPerformedDate\"\\r\\n                  formControlName=\"CalibrationPerformedDate\"></ejs-datepicker>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label  style=\"padding-top: 20px;\" for=\"ServiceAttachment\" class=\"control-label col-form-label\">Service Report:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                  <ejs-uploader\\r\\n                    #defaultupload\\r\\n                    [autoUpload]=\"false\"\\r\\n                    [dropArea]=\"dropEle\"\\r\\n                    formArrayName=\\'ServiceAttachmentList\\'\\r\\n                    (selected)=\"onServiceFileSelect($event)\"\\r\\n                  ></ejs-uploader>\\r\\n                <small class=\"form-text text-cyan\">* multiple attachment</small>\\r\\n                <div *ngFor=\"let item of ServiceAttachmentList\">\\r\\n                  <label class=\"link\" (click)=\"DownLoadFile(item.AttachmentPath)\">{{item.ImageName}}</label>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label  style=\"padding-top: 20px;\" for=\"CalibrationAttachment\" class=\"control-label col-form-label\">Calibration Report:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <ejs-uploader\\r\\n                  #defaultupload\\r\\n                  [autoUpload]=\"false\"\\r\\n                  [dropArea]=\"dropEle\"\\r\\n                  formArrayName=\\'AttachmentList\\'\\r\\n                  (selected)=\"onFileSelect($event)\"\\r\\n                ></ejs-uploader>\\r\\n                <small class=\"form-text text-cyan\">* multiple attachment</small>\\r\\n                <div *ngFor=\"let item of CalibrationAttachmentList\">\\r\\n                  <label class=\"link\" (click)=\"DownLoadFile(item.AttachmentPath)\">{{item.ImageName}}</label>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-12\" style=\"margin-top: 10px;\">\\r\\n          <div class=\"row\">\\r\\n            <div class=\"col-md-3\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <label for=\"Description\" class=\"control-label col-form-label\">Description:</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-9\">\\r\\n              <div class=\"col-md-12\">\\r\\n                <textarea class=\"form-control frm_tabtxtarea cye-lf-tag\" rows=\"5\" name=\"CalibrationDescription\"\\r\\n                  formControlName=\"CalibrationDescription\"></textarea>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n  <div class=\"modal-footer\">\\r\\n    <button class=\"addmodal_style\" *ngIf=\"!IsCalibrationEdit\"\\r\\n      (click)=\"SaveCalibration()\" ejs-button>\\r\\n      Add\\r\\n    </button>\\r\\n    <button class=\"addmodal_style\" *ngIf=\"IsCalibrationEdit\"\\r\\n      (click)=\"UpdateCalibration()\" ejs-button>\\r\\n      Update\\r\\n    </button>\\r\\n    <button class=\"cancel_style\" (click)=\"modal.close(\\'Close click\\')\" ejs-button>\\r\\n      cancel\\r\\n    </button>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template #content4 let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n    \\x3c!-- <h5 class=\"modal-title\">Attachments</h5>\\r\\n    <button\\r\\n      type=\"button\"\\r\\n      class=\"close\"\\r\\n      aria-label=\"Close\"\\r\\n      (click)=\"modal.dismiss(\\'Cross click\\')\">\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n    <div class=\"col-md-12\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n              <h5 class=\"modal-title\">Attachments</h5>\\r\\n          </div>\\r\\n          <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n            <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\"></i>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n  <div class=\"modal-body\">\\r\\n    <ejs-filemanager id=\\'overview\\' #fileManagerCtrl [ajaxSettings]=\\'ajaxSettings\\' [searchSettings]=\\'searchSettings\\' (beforeDownload)=\"beforeSend($event)\"\\r\\n        (beforeImageLoad)=\"beforeSend($event)\" [rootAliasName]=\"\\'Attachments\\'\" (beforeSend)=\"beforeSend($event)\" [contextMenuSettings]=\\'contextMenuSettings\\' [toolbarSettings]=\\'toolbarSettings\\' view=\\'Details\\'>\\r\\n    </ejs-filemanager>\\r\\n  </div>\\r\\n</ng-template>\\r\\n'},n5d2:function(t,e,r){\"use strict\";r.r(e),e.default=\"\"}}]);","extractedComments":[]}