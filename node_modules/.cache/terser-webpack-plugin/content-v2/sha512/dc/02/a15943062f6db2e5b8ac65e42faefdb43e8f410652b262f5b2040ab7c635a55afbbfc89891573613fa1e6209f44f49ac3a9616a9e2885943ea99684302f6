{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{Mmlg:function(e,t,r){\"use strict\";r.r(t),t.default=\".edit_link{\\r\\n  font-size: 14px;\\r\\n}\\r\\n\"},fRga:function(e,t,r){\"use strict\";r.r(t);var a=r(\"g0hO\"),n=r(\"CcnG\"),o=r(\"Ip0R\"),l=r(\"ZYCi\"),i=r(\"4GxJ\"),s=r(\"SZbH\"),c=r(\"22mB\"),d=r(\"t/Na\"),m=r(\"AytR\"),u=function(e,t,r,a){var n,o=arguments.length,l=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},p=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t){this._http=e,this._toastr=t,this._urlICSParameter=m.a.apiUrl+\"/api/ICSParameter/\",this._urlIcsCommon=m.a.apiUrl+\"/api/ICSCommon/\"}return e.prototype.GetParameterList=function(){return this._http.get(this._urlICSParameter+\"GetParameterList\")},e.prototype.GetQualificationDetail=function(e){return this._http.post(this._urlICSParameter+\"GetParameterDetails/\"+e,e)},e.prototype.SaveParameter=function(e){return this._http.post(this._urlICSParameter+\"SaveParameter\",e)},e.prototype.UpdateParameter=function(e){return this._http.post(this._urlICSParameter+\"UpdateParameter\",e)},e.prototype.ValidateRange=function(e){var t=!0,r=parseFloat(e.UpperValue),a=parseFloat(e.LowerValue),n=parseFloat(e.TargetValue);return r<n?(this._toastr.warning(\"Upper Value Should be Greater than Target Value \"),t=!1):r<a?(this._toastr.warning(\"Upper Value Should be Greater than Lower Value \"),t=!1):n<a?(this._toastr.warning(\"Target Value Should be Greater than Lower Value \"),t=!1):n>r?(this._toastr.warning(\"Target Value Should be Less than Upper Value \"),t=!1):a>n?(this._toastr.warning(\"Lower Value Should be Less Than Target Value \"),t=!1):a>r?(this._toastr.warning(\"Lower Value Should be Less Than Upper Value\"),t=!1):t=!0,t},e.prototype.getAccessRight=function(){return this._http.get(this._urlICSParameter+\"GetAccessRight\")},e.prototype.SaveReportDownloadLogInAudit=function(e){return this._http.post(this._urlIcsCommon+\"ReportDownloadlog\",e)},e.ctorParameters=function(){return[{type:d.HttpClient},{type:s.b}]},e=u([Object(n.Injectable)({providedIn:\"root\"}),p(\"design:paramtypes\",[d.HttpClient,s.b])],e)}(),h=r(\"gIcY\"),v=r(\"HNZf\"),g=r(\"2yhH\"),b=r(\"gmrI\"),y=r(\"feTb\"),P=function(e,t,r,a){var n,o=arguments.length,l=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},I=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(e){return e&&e.__esModule?e:{default:e}},S=function(){function e(e,t,r,a,n,o){this.modalService=e,this._toastr=t,this._parameterService=r,this.formBuilder=a,this.formErrorDisplay=n,this._icsCommonService=o,this.fields={text:\"Name\",value:\"Id\"},this.IsParameterEdit=!1,this.PageAccessRight={}}return e.prototype.ngOnInit=function(){var e=this;this._parameterService.getAccessRight().subscribe((function(t){e.PageAccessRight=t.Object,0==e.PageAccessRight.HasWriteAccess&&e.grid.hideColumns([\"Action\"])})),this.GetParameterList(),this.GetInstrumentList(),this.SetForm(),this.toolbar=[\"Add\",\"Edit\",\"Delete\",\"Update\",\"Cancel\",\"Search\"],this.commands=[{type:\"Edit\",buttonOption:{iconCss:\" fa fa-edit\",cssClass:\"e-flat\"}}],this.lines=\"Both\",this.filterOptions={type:\"Menu\"},this.Dateformat={type:\"date\",format:\"dd-MMM-yyyy\"},this.toolbarOptions=[\"ExcelExport\",\"Search\",\"PdfExport\"],this.pageSettings={pageSizes:10},this.groupOptions={showGroupedColumn:!0},this.objInstrumentType.Name=null},e.prototype.toolbarClick=function(e){var t=this;switch(e.item.id){case\"Grid_excelexport\":var r={fileName:\"Instrument_Parameter.xlsx\"},a={FeatureName:\"Parameter\",Description:\"Excel Report Is Downloaded.\"};this._parameterService.SaveReportDownloadLogInAudit(a).subscribe((function(e){e.Result&&t.grid.excelExport(r)}));break;case\"Grid_pdfexport\":var n={fileName:\"Instrument_Parameter.pdf\",pageOrientation:\"Landscape\",theme:{header:{font:new y.a(b.a,12)},caption:{font:new y.a(b.a,10)},record:{font:new y.a(b.a,9)}}};a={FeatureName:\"Parameter\",Description:\"Pdf Report Is Downloaded.\"};this._parameterService.SaveReportDownloadLogInAudit(a).subscribe((function(e){e.Result&&t.grid.pdfExport(n)}))}},e.prototype.created=function(e){var t=this.grid.element,r=document.createElement(\"span\");r.className=\"e-clear-icon\",r.id=t.id+\"clear\",r.onclick=this.cancelBtnClick.bind(this),t.querySelector(\".e-toolbar-item .e-input-group\").appendChild(r)},e.prototype.cancelBtnClick=function(e){this.grid.searchSettings.key=\"\",this.grid.element.querySelector(\".e-input-group.e-search .e-input\").value=\"\"},e.prototype.ngAfterViewInit=function(){},e.prototype.SetForm=function(){this.ParameterForm=this.formBuilder.group({ParameterId:[\"\"],IcsInstrumentID:[\"\",h.l.required],ParameterName:[\"\",h.l.required],TargetValue:[\"\"],UpperValue:[\"\"],LowerValue:[\"\"],Unit:[\"\",h.l.required]})},e.prototype.resetForm=function(){this.ParameterForm.reset()},e.prototype.OpenaddparameterModal=function(e){var t=this;this.IsParameterEdit=!1,this.objInstrumentType=[],this.ObjInstrumentTypeName=null,this.resetForm(),this.modalService.open(e,{centered:!0,size:\"lg\",backdrop:\"static\",keyboard:!1}).result.then((function(e){t.closeResult=\"Closed with: \"+e}),(function(e){t.closeResult=\"Dismissed \"+t.getDismissReason(e)}))},e.prototype.EditParameter=function(e){var t=this;this._parameterService.GetQualificationDetail(e.rowData.ParameterId).subscribe((function(e){var r=e.Object;t.ParameterForm.patchValue({IcsInstrumentID:r.IcsInstrumentID,ParameterId:r.ParameterId,ParameterName:r.ParameterName,TargetValue:r.TargetValue,UpperValue:r.UpperValue,LowerValue:r.LowerValue,Unit:r.Unit}),t.IsParameterEdit=!0,t.ObjInstrumentTypeName=r.InstrumentType}))},e.prototype.closeAddParameterModal=function(){this.modalService.dismissAll()},e.prototype.getDismissReason=function(e){return e===i.a.ESC?\"by pressing ESC\":e===i.a.BACKDROP_CLICK?\"by clicking on a backdrop\":\"with: \"+e},e.prototype.GetInstrumentList=function(){var e=this;this._icsCommonService.GetInstrumentList().subscribe((function(t){e.ObjInstrumentList=t.Object}))},e.prototype.GetParameterList=function(){var e=this;this._parameterService.GetParameterList().subscribe((function(t){e.ObjParameterList=t.Object}))},e.prototype.GetInstrumentTypeById=function(e){var t=this;this._icsCommonService.GetInstrumentTypeById(e.value).subscribe((function(e){t.objInstrumentType=e.Object,t.ObjInstrumentTypeName=t.objInstrumentType.Name}))},e.prototype.SaveParameter=function(){var e=this;if(this.ParameterForm.valid){if(!this._parameterService.ValidateRange(this.ParameterForm.value))return!1;this._parameterService.SaveParameter(this.ParameterForm.value).subscribe((function(t){t.Result?(e._toastr.success(t.ResultMessage),e.GetParameterList(),e.resetForm(),e.closeAddParameterModal()):e._toastr.error(t.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.ParameterForm)},e.prototype.UpdateParameter=function(){var e=this;if(this.ParameterForm.valid){if(!this._parameterService.ValidateRange(this.ParameterForm.value))return!1;this._parameterService.UpdateParameter(this.ParameterForm.value).subscribe((function(t){t.Result?(e.GetParameterList(),e.resetForm(),e.closeAddParameterModal(),e._toastr.success(t.ResultMessage)):e._toastr.error(t.ResultMessage)}))}else this.formErrorDisplay.showErrors(this.ParameterForm)},e.prototype.Concatenate=function(e){console.log(e)},e.prototype.pdfHeaderQueryCellInfo=function(e){e.cell.row.pdfGrid.repeatHeader=!0},e.ctorParameters=function(){return[{type:i.c},{type:s.b},{type:f},{type:h.c},{type:v.a},{type:g.a}]},P([Object(n.ViewChild)(\"grid\",{static:!1}),I(\"design:type\",c.h)],e.prototype,\"grid\",void 0),e=P([Object(n.Component)({selector:\"app-ics-parameter\",template:w(r(\"hGnW\")).default,styles:[w(r(\"Mmlg\")).default]}),I(\"design:paramtypes\",[i.c,s.b,f,h.c,v.a,g.a])],e)}(),C=function(e,t,r,a){var n,o=arguments.length,l=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},R=[{path:\"\",data:{urls:[{title:\"Home\",url:\"/landing\"},{title:\"ICS\",url:\"/icshome\"},{title:\"Add Parameter\"}]},component:S}],_=function(){function e(){}return e=C([Object(n.NgModule)({imports:[l.RouterModule.forChild(R)],exports:[l.RouterModule]})],e)}(),x=r(\"Cqot\"),j=r(\"TkSO\");r.d(t,\"IcsParameterModule\",(function(){return O}));var V=function(e,t,r,a){var n,o=arguments.length,l=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},O=function(){function e(){}return e=V([Object(n.NgModule)({declarations:[S],imports:[o.CommonModule,_,j.e,c.i,x.b,h.f,a.a,h.k],providers:[c.k,c.o,c.f,c.p,c.e,c.g,c.a,c.j,c.l]})],e)}()},hGnW:function(e,t,r){\"use strict\";r.r(t),t.default='<div class=\"row\">\\r\\n  <div class=\"col-lg-12\">\\r\\n    <div class=\"card\">\\r\\n      <div class=\"d-flex no-block align-items-center\" *ngIf=\"PageAccessRight.HasWriteAccess\">\\r\\n        <h4 class=\"card-title\"></h4>\\r\\n        <div class=\"ml-auto mb-2\" style=\"padding-top: 28px;\">\\r\\n          <button class=\"addbtn_style\" ejs-button (click)=\"OpenaddparameterModal(addParameterModal)\">\\r\\n            <i class=\"fas fa-plus-circle\"></i>&nbsp;&nbsp;Add Parameter\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n        <div *ngIf=\"!PageAccessRight.HasWriteAccess\"><br /><br /></div>\\r\\n      <div class=\"table-responsive\">\\r\\n        <ejs-grid #grid id=\"Grid\" [dataSource]=\"ObjParameterList\" [allowSelection]=\"true\" allowFiltering=\"true\" [pageSettings]=\\'pageSettings\\'\\r\\n          [filterSettings]=\"filterOptions\" [toolbar]=\"toolbarOptions\" [allowExcelExport]=\"true\"\\r\\n          (toolbarClick)=\"toolbarClick($event)\" [gridLines]=\"lines\" [enableHover]=\"false\" [allowSorting]=\"true\"\\r\\n          e-gridheader=\"\" height=\"363px\" allowPaging=\\'true\\' [toolbar]=\\'toolbar\\'  [showColumnMenu]=\"true\" [allowGrouping]=\"true\"\\r\\n          (commandClick)=\"EditParameter($event); OpenaddparameterModal(addParameterModal)\"\\r\\n          (pdfHeaderQueryCellInfo)=\\'pdfHeaderQueryCellInfo($event)\\' [allowPdfExport]=\"true\"\\r\\n          (created)=\"created($event)\"  >\\r\\n          <e-columns>\\r\\n            <e-column headerText=\"Action\" textAlign=\"center\" width=\"30\" [commands]=\"commands\" >\\r\\n            </e-column>\\r\\n            <e-column field=\"InstrumentId\" headerText=\"Instrument Id\" headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"60\">\\r\\n            </e-column>\\r\\n            <e-column field=\"ParameterName\" headerText=\"Parameter Name\" headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"80\"></e-column>\\r\\n            <e-column field=\"TargetValue\" headerText=\"Target Value\"headerTextAlign=\\'center\\' textAlign=\\'left\\'width=\"80\"></e-column>\\r\\n            <e-column field=\"UpperValue\" headerText=\"Upper Value\" headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"80\"></e-column>\\r\\n            <e-column field=\"LowerValue\" headerText=\"Lower Value\" headerTextAlign=\\'center\\' textAlign=\\'left\\' width=\"80\"></e-column>\\r\\n          </e-columns>\\r\\n        </ejs-grid>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #addParameterModal let-modal>\\r\\n  <div class=\"modal_header\">\\r\\n    \\x3c!-- <h5 class=\"modal-title\" *ngIf=\"!IsParameterEdit\">Add Parameter</h5>\\r\\n    <h5 class=\"modal-title\" *ngIf=\"IsParameterEdit\">Edit Parameter</h5>\\r\\n    <button type=\"button\" class=\"close\" aria-label=\"close\" (click)=\"modal.dismiss(\\'Cross click\\')\">\\r\\n      <span aria-hidden=\"true\">&times;</span>\\r\\n    </button> --\\x3e\\r\\n\\r\\n    <div class=\"col-md-12\">\\r\\n      <div class=\"row\">\\r\\n        <div class=\"col-md-6\">\\r\\n          <h5 class=\"modal-title\" *ngIf=\"!IsParameterEdit\">Add Parameter</h5>\\r\\n          <h5 class=\"modal-title\" *ngIf=\"IsParameterEdit\">Edit Parameter</h5>\\r\\n        </div>\\r\\n        <div class=\"col-md-6\" class=\"Close_Popup\">\\r\\n          <i class=\"fas fa-times\" (click)=\"modal.dismiss(\\'Cross click\\')\"></i>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </div>\\r\\n  <div class=\"modal-body\">\\r\\n    <form [formGroup]=\"ParameterForm\">\\r\\n      <div class=\"col-md-12\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-5\">\\r\\n                <label for=\"InstrumentId\" class=\"control-label col-form-label\">Instrument Id:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n              </div>\\r\\n              <div class=\"col-md-7\" print-error [control]=\"ParameterForm.get(\\'IcsInstrumentID\\')\">\\r\\n                <ejs-dropdownlist [dataSource]=\"ObjInstrumentList\" placeholder=\"Select Instrument\" [fields]=\"fields\"\\r\\n                  name=\"IcsInstrumentID\" [disableControl]=\"IsParameterEdit\" showClearButton=\"true\"   (change)=\"GetInstrumentTypeById($event)\"\\r\\n                  formControlName=\"IcsInstrumentID\"></ejs-dropdownlist>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\"col-md-6\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-5\">\\r\\n                <label for=\"InstrumentType\" class=\"control-label col-form-label\">Instrument Name:</label>\\r\\n              </div>\\r\\n              <div class=\"col-md-7\">\\r\\n                <label class=\"col-form-label\">{{ObjInstrumentTypeName}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-md-6\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-5\">\\r\\n                <label for=\"ParameterName\" class=\"control-label col-form-label\">Parameter Name:</label><span\\r\\n                  class=\"text-danger\">*</span>\\r\\n              </div>\\r\\n              <div class=\"col-md-7\" print-error [control]=\"ParameterForm.get(\\'ParameterName\\')\">\\r\\n                <input type=\"text\" class=\"form-control\" id=\"ParameterName\" placeholder=\"\" name=\"ParameterName\"\\r\\n                  formControlName=\"ParameterName\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\"col-md-6\">\\r\\n              <div class=\"row\">\\r\\n                <div class=\"col-md-5\">\\r\\n                  <label for=\"Unit\" class=\"control-label col-form-label\">Unit:</label>\\r\\n                  <span class=\"text-danger\">*</span>\\r\\n                </div>\\r\\n                <div class=\"col-md-7\" print-error [control]=\"ParameterForm.get(\\'Unit\\')\">\\r\\n                  <input type=\"text\" class=\"form-control\" id=\"Unit\" placeholder=\"\" name=\"Unit\" formControlName=\"Unit\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\"col-md-12\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-4\">\\r\\n                <div class=\"row\">\\r\\n                  <div class=\"col-md-5\">\\r\\n                    <label for=\"TargetValue\" class=\"control-label col-form-label\">Target Value:</label>\\r\\n                  </div>\\r\\n                  <div class=\"col-md-7\">\\r\\n                    <input type=\"text\" class=\"form-control\" id=\"TargetValue\" placeholder=\"\" name=\"TargetValue\"\\r\\n                      formControlName=\"TargetValue\" />\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n          <div class=\"col-md-4\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-5\">\\r\\n                <label for=\"UpperRange\" class=\"control-label col-form-label\">Upper range :</label>\\r\\n              </div>\\r\\n              <div class=\"col-md-7\">\\r\\n                <input type=\"text\" class=\"form-control\" id=\"UpperRange\" placeholder=\"\" name=\"UpperValue\"\\r\\n                  formControlName=\"UpperValue\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\"col-md-4\">\\r\\n            <div class=\"row\">\\r\\n              <div class=\"col-md-5\">\\r\\n                <label for=\"LowerRange\" class=\"control-label col-form-label\">Lower range :</label>\\r\\n              </div>\\r\\n              <div class=\"col-md-7\">\\r\\n                <input type=\"text\" class=\"form-control\" id=\"LowerRange\" placeholder=\"\" name=\"LowerValue\"\\r\\n                  formControlName=\"LowerValue\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\"modal-footer\">\\r\\n    <button class=\"addmodal_style\" ejs-button (click)=\"SaveParameter()\" *ngIf=\"!IsParameterEdit\">\\r\\n      Add\\r\\n    </button>\\r\\n    <button class=\"addmodal_style\" ejs-button (click)=\"UpdateParameter()\" *ngIf=\"IsParameterEdit\">\\r\\n      Update\\r\\n    </button>\\r\\n    <button class=\"cancel_style\" (click)=\"modal.close(\\'Close click\\')\" ejs-button>\\r\\n      cancel\\r\\n    </button>\\r\\n  </div>\\r\\n</ng-template>\\r\\n'}}]);","extractedComments":[]}